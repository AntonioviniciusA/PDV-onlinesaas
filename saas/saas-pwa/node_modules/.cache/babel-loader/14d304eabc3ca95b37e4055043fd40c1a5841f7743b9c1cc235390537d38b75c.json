{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/home/v/Documentos/Github/PDV-onlinesaas/pdv-react-pwa/src/components/csv-import-dialog.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useCallback } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Upload, Download, FileText, CheckCircle, XCircle, AlertTriangle, RefreshCw } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function CSVImportDialog({\n  open,\n  onOpenChange,\n  products,\n  onImportComplete\n}) {\n  _s();\n  const [step, setStep] = useState(\"upload\");\n  const [csvData, setCsvData] = useState([]);\n  const [importResult, setImportResult] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [allowDuplicates, setAllowDuplicates] = useState(false);\n  const [dragActive, setDragActive] = useState(false);\n  const fileInputRef = useRef(null);\n  const csvTemplate = `nome,preco,categoria,codigo_barras,por_peso,unidade\nCoca-Cola 350ml,4.50,Bebidas,7894900011517,nao,un\nPão Francês,8.90,Padaria,2000000000001,sim,kg\nLeite Integral 1L,5.20,Laticínios,7891000100103,nao,un\nBanana Prata,5.50,Frutas,2000000000002,sim,kg`;\n  const downloadTemplate = () => {\n    const blob = new Blob([csvTemplate], {\n      type: \"text/csv;charset=utf-8;\"\n    });\n    const link = document.createElement(\"a\");\n    const url = URL.createObjectURL(blob);\n    link.setAttribute(\"href\", url);\n    link.setAttribute(\"download\", \"template_produtos.csv\");\n    link.style.visibility = \"hidden\";\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n  const validateRow = (row, index) => {\n    var _row$preco, _row$por_peso, _row$nome, _row$preco2, _row$categoria, _row$codigo_barras3, _row$por_peso2;\n    const errors = [];\n\n    // Validar nome\n    if (!row.nome || row.nome.trim() === \"\") {\n      errors.push(\"Nome é obrigatório\");\n    }\n\n    // Validar preço\n    const price = Number.parseFloat((_row$preco = row.preco) === null || _row$preco === void 0 ? void 0 : _row$preco.toString().replace(\",\", \".\"));\n    if (isNaN(price) || price <= 0) {\n      errors.push(\"Preço deve ser um número maior que zero\");\n    }\n\n    // Validar categoria\n    if (!row.categoria || row.categoria.trim() === \"\") {\n      errors.push(\"Categoria é obrigatória\");\n    }\n\n    // Validar código de barras\n    if (!row.codigo_barras || row.codigo_barras.toString().length < 8) {\n      errors.push(\"Código de barras deve ter pelo menos 8 dígitos\");\n    }\n\n    // Verificar duplicata no CSV atual\n    const existingInFile = csvData.find(item => {\n      var _row$codigo_barras;\n      return item.barcode === ((_row$codigo_barras = row.codigo_barras) === null || _row$codigo_barras === void 0 ? void 0 : _row$codigo_barras.toString()) && item.rowIndex !== index;\n    });\n    if (existingInFile) {\n      errors.push(\"Código de barras duplicado no arquivo\");\n    }\n\n    // Verificar duplicata nos produtos existentes\n    const existingProduct = products.find(p => {\n      var _row$codigo_barras2;\n      return p.barcode === ((_row$codigo_barras2 = row.codigo_barras) === null || _row$codigo_barras2 === void 0 ? void 0 : _row$codigo_barras2.toString());\n    });\n    if (existingProduct && !allowDuplicates) {\n      errors.push(\"Código de barras já existe no sistema\");\n    }\n    const requiresWeight = ((_row$por_peso = row.por_peso) === null || _row$por_peso === void 0 ? void 0 : _row$por_peso.toString().toLowerCase()) === \"sim\";\n    const unit = requiresWeight ? \"kg\" : row.unidade || \"un\";\n    return {\n      name: ((_row$nome = row.nome) === null || _row$nome === void 0 ? void 0 : _row$nome.toString().trim()) || \"\",\n      price: ((_row$preco2 = row.preco) === null || _row$preco2 === void 0 ? void 0 : _row$preco2.toString()) || \"\",\n      category: ((_row$categoria = row.categoria) === null || _row$categoria === void 0 ? void 0 : _row$categoria.toString().trim()) || \"\",\n      barcode: ((_row$codigo_barras3 = row.codigo_barras) === null || _row$codigo_barras3 === void 0 ? void 0 : _row$codigo_barras3.toString()) || \"\",\n      requiresWeight: ((_row$por_peso2 = row.por_peso) === null || _row$por_peso2 === void 0 ? void 0 : _row$por_peso2.toString()) || \"nao\",\n      unit: unit,\n      rowIndex: index,\n      errors,\n      isValid: errors.length === 0\n    };\n  };\n  const parseCSV = text => {\n    const lines = text.split(\"\\n\").filter(line => line.trim());\n    if (lines.length < 2) return [];\n    const headers = lines[0].split(\",\").map(h => h.trim().toLowerCase());\n    const rows = [];\n    for (let i = 1; i < lines.length; i++) {\n      const values = lines[i].split(\",\");\n      const row = {};\n      headers.forEach((header, index) => {\n        var _values$index;\n        row[header] = ((_values$index = values[index]) === null || _values$index === void 0 ? void 0 : _values$index.trim()) || \"\";\n      });\n      const validatedRow = validateRow(row, i);\n      rows.push(validatedRow);\n    }\n    return rows;\n  };\n  const handleFileUpload = file => {\n    if (!file.name.endsWith(\".csv\")) {\n      alert(\"Por favor, selecione um arquivo CSV\");\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = e => {\n      var _e$target;\n      const text = (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.result;\n      try {\n        const parsedData = parseCSV(text);\n        setCsvData(parsedData);\n        setStep(\"preview\");\n      } catch (error) {\n        alert(\"Erro ao processar arquivo CSV. Verifique o formato.\");\n      }\n    };\n    reader.readAsText(file, \"UTF-8\");\n  };\n  const handleDrag = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  }, []);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      handleFileUpload(e.dataTransfer.files[0]);\n    }\n  }, []);\n  const processImport = async () => {\n    setIsProcessing(true);\n    const result = {\n      success: 0,\n      errors: 0,\n      duplicates: 0,\n      details: []\n    };\n    const newProducts = [...products];\n    for (const row of csvData) {\n      if (!row.isValid) {\n        result.errors++;\n        result.details.push({\n          row: row.rowIndex,\n          name: row.name,\n          status: \"error\",\n          message: row.errors.join(\", \")\n        });\n        continue;\n      }\n\n      // Verificar se já existe\n      const existingIndex = newProducts.findIndex(p => p.barcode === row.barcode);\n      if (existingIndex >= 0) {\n        if (allowDuplicates) {\n          // Sobrescrever produto existente\n          newProducts[existingIndex] = {\n            id: newProducts[existingIndex].id,\n            name: row.name,\n            price: Number.parseFloat(row.price.replace(\",\", \".\")),\n            category: row.category,\n            barcode: row.barcode,\n            requiresWeight: row.requiresWeight.toLowerCase() === \"sim\",\n            unit: row.unit\n          };\n          result.success++;\n          result.details.push({\n            row: row.rowIndex,\n            name: row.name,\n            status: \"success\",\n            message: \"Produto atualizado\"\n          });\n        } else {\n          result.duplicates++;\n          result.details.push({\n            row: row.rowIndex,\n            name: row.name,\n            status: \"duplicate\",\n            message: \"Código de barras já existe\"\n          });\n        }\n      } else {\n        // Adicionar novo produto\n        const newProduct = {\n          id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n          name: row.name,\n          price: Number.parseFloat(row.price.replace(\",\", \".\")),\n          category: row.category,\n          barcode: row.barcode,\n          requiresWeight: row.requiresWeight.toLowerCase() === \"sim\",\n          unit: row.unit\n        };\n        newProducts.push(newProduct);\n        result.success++;\n        result.details.push({\n          row: row.rowIndex,\n          name: row.name,\n          status: \"success\",\n          message: \"Produto adicionado\"\n        });\n      }\n    }\n    setImportResult(result);\n    onImportComplete(newProducts);\n    setIsProcessing(false);\n    setStep(\"result\");\n  };\n  const resetDialog = () => {\n    setStep(\"upload\");\n    setCsvData([]);\n    setImportResult(null);\n    setIsProcessing(false);\n    setAllowDuplicates(false);\n    setDragActive(false);\n  };\n  const handleClose = () => {\n    resetDialog();\n    onOpenChange(false);\n  };\n  const validRows = csvData.filter(row => row.isValid).length;\n  const errorRows = csvData.filter(row => !row.isValid).length;\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onOpenChange: handleClose,\n    children: /*#__PURE__*/_jsxDEV(DialogContent, {\n      className: \"max-w-4xl max-h-[90vh]\",\n      children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n        children: /*#__PURE__*/_jsxDEV(DialogTitle, {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Upload, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), \"Importar Produtos via CSV\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [step === \"upload\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: downloadTemplate,\n              variant: \"outline\",\n              className: \"mb-4 bg-transparent\",\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this), \"Baixar Template CSV\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `border-2 border-dashed rounded-lg p-8 text-center transition-colors ${dragActive ? \"border-blue-500 bg-blue-50\" : \"border-gray-300\"}`,\n            onDragEnter: handleDrag,\n            onDragLeave: handleDrag,\n            onDragOver: handleDrag,\n            onDrop: handleDrop,\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"w-16 h-16 text-gray-400 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold mb-2\",\n              children: \"Arraste o arquivo CSV aqui ou clique para selecionar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 mb-4\",\n              children: \"Formato suportado: CSV com colunas: nome, preco, categoria, codigo_barras, por_peso, unidade\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: fileInputRef,\n              type: \"file\",\n              accept: \".csv\",\n              onChange: e => {\n                var _e$target$files;\n                return ((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) && handleFileUpload(e.target.files[0]);\n              },\n              className: \"hidden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              children: \"Selecionar Arquivo CSV\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Alert, {\n            children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Formato do CSV:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this), \"\\u2022 Primeira linha deve conter os cabe\\xE7alhos\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 19\n              }, this), \"\\u2022 Colunas: nome, preco, categoria, codigo_barras, por_peso (sim/nao), unidade\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), \"\\u2022 Use v\\xEDrgula como separador\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this), \"\\u2022 Codifica\\xE7\\xE3o UTF-8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this), step === \"preview\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"secondary\",\n                children: [csvData.length, \" linhas encontradas\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                variant: validRows > 0 ? \"default\" : \"secondary\",\n                children: [validRows, \" v\\xE1lidas\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this), errorRows > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"destructive\",\n                children: [errorRows, \" com erro\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"allowDuplicates\",\n                checked: allowDuplicates,\n                onChange: e => setAllowDuplicates(e.target.checked)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"allowDuplicates\",\n                className: \"text-sm\",\n                children: \"Sobrescrever produtos existentes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ScrollArea, {\n            className: \"h-96 border rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"border-b\",\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-left p-2\",\n                      children: \"Linha\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-left p-2\",\n                      children: \"Nome\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-left p-2\",\n                      children: \"Pre\\xE7o\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-left p-2\",\n                      children: \"Categoria\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 388,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-left p-2\",\n                      children: \"C\\xF3digo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-left p-2\",\n                      children: \"Peso\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-left p-2\",\n                      children: \"Status\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: csvData.map((row, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: `border-b ${!row.isValid ? \"bg-red-50\" : \"\"}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: row.rowIndex\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 402,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: row.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: [\"R$ \", row.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: row.category\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2 font-mono text-xs\",\n                      children: row.barcode\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 406,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: row.requiresWeight === \"sim\" ? \"Sim\" : \"Não\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"p-2\",\n                      children: row.isValid ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                        className: \"w-4 h-4 text-green-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 414,\n                        columnNumber: 31\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center gap-1\",\n                        children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                          className: \"w-4 h-4 text-red-600\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 417,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs text-red-600\",\n                          children: row.errors[0]\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 418,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 416,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 justify-end\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline\",\n              onClick: () => setStep(\"upload\"),\n              children: \"Voltar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: processImport,\n              disabled: validRows === 0 || isProcessing,\n              children: isProcessing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                  className: \"w-4 h-4 mr-2 animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 23\n                }, this), \"Importando...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [\"Importar \", validRows, \" Produtos\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this), step === \"result\" && importResult && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-3 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center p-4 bg-green-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"w-8 h-8 text-green-600 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-green-600\",\n                children: importResult.success\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-green-700\",\n                children: \"Importados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center p-4 bg-red-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                className: \"w-8 h-8 text-red-600 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-red-600\",\n                children: importResult.errors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-700\",\n                children: \"Erros\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center p-4 bg-yellow-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n                className: \"w-8 h-8 text-yellow-600 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-yellow-600\",\n                children: importResult.duplicates\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-yellow-700\",\n                children: \"Duplicados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold mb-3\",\n              children: \"Detalhes da Importa\\xE7\\xE3o:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ScrollArea, {\n              className: \"h-64 border rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 space-y-2\",\n                children: importResult.details.map((detail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3 p-2 border rounded\",\n                  children: [detail.status === \"success\" && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-4 h-4 text-green-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 27\n                  }, this), detail.status === \"error\" && /*#__PURE__*/_jsxDEV(XCircle, {\n                    className: \"w-4 h-4 text-red-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 27\n                  }, this), detail.status === \"duplicate\" && /*#__PURE__*/_jsxDEV(AlertTriangle, {\n                    className: \"w-4 h-4 text-yellow-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-sm\",\n                      children: detail.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 500,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500\",\n                      children: [\"Linha \", detail.row, \": \", detail.message]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 501,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 justify-end\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline\",\n              onClick: resetDialog,\n              children: \"Importar Mais\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleClose,\n              children: \"Concluir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 5\n  }, this);\n}\n_s(CSVImportDialog, \"wxm0EegR/qzdwjTf/WrV5pG5I5Q=\");\n_c = CSVImportDialog;\nvar _c;\n$RefreshReg$(_c, \"CSVImportDialog\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useRef","useCallback","Dialog","DialogContent","DialogHeader","DialogTitle","Button","Label","Alert","AlertDescription","ScrollArea","Badge","Separator","Upload","Download","FileText","CheckCircle","XCircle","AlertTriangle","RefreshCw","jsxDEV","_jsxDEV","Fragment","_Fragment","CSVImportDialog","open","onOpenChange","products","onImportComplete","step","setStep","csvData","setCsvData","importResult","setImportResult","isProcessing","setIsProcessing","allowDuplicates","setAllowDuplicates","dragActive","setDragActive","fileInputRef","csvTemplate","downloadTemplate","blob","Blob","type","link","document","createElement","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","validateRow","row","index","_row$preco","_row$por_peso","_row$nome","_row$preco2","_row$categoria","_row$codigo_barras3","_row$por_peso2","errors","nome","trim","push","price","Number","parseFloat","preco","toString","replace","isNaN","categoria","codigo_barras","length","existingInFile","find","item","_row$codigo_barras","barcode","rowIndex","existingProduct","p","_row$codigo_barras2","requiresWeight","por_peso","toLowerCase","unit","unidade","name","category","isValid","parseCSV","text","lines","split","filter","line","headers","map","h","rows","i","values","forEach","header","_values$index","validatedRow","handleFileUpload","file","endsWith","alert","reader","FileReader","onload","e","_e$target","target","result","parsedData","error","readAsText","handleDrag","preventDefault","stopPropagation","handleDrop","dataTransfer","files","processImport","success","duplicates","details","newProducts","status","message","join","existingIndex","findIndex","id","newProduct","Date","now","Math","random","substr","resetDialog","handleClose","validRows","errorRows","children","className","fileName","lineNumber","columnNumber","onClick","variant","onDragEnter","onDragLeave","onDragOver","onDrop","ref","accept","onChange","_e$target$files","_fileInputRef$current","current","checked","htmlFor","disabled","detail","_c","$RefreshReg$"],"sources":["/home/v/Documentos/Github/PDV-onlinesaas/pdv-react-pwa/src/components/csv-import-dialog.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useCallback } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Upload,\n  Download,\n  FileText,\n  CheckCircle,\n  XCircle,\n  AlertTriangle,\n  RefreshCw,\n} from \"lucide-react\";\n\nexport function CSVImportDialog({\n  open,\n  onOpenChange,\n  products,\n  onImportComplete,\n}) {\n  const [step, setStep] = useState(\"upload\");\n  const [csvData, setCsvData] = useState([]);\n  const [importResult, setImportResult] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [allowDuplicates, setAllowDuplicates] = useState(false);\n  const [dragActive, setDragActive] = useState(false);\n\n  const fileInputRef = useRef(null);\n\n  const csvTemplate = `nome,preco,categoria,codigo_barras,por_peso,unidade\nCoca-Cola 350ml,4.50,Bebidas,7894900011517,nao,un\nPão Francês,8.90,Padaria,2000000000001,sim,kg\nLeite Integral 1L,5.20,Laticínios,7891000100103,nao,un\nBanana Prata,5.50,Frutas,2000000000002,sim,kg`;\n\n  const downloadTemplate = () => {\n    const blob = new Blob([csvTemplate], { type: \"text/csv;charset=utf-8;\" });\n    const link = document.createElement(\"a\");\n    const url = URL.createObjectURL(blob);\n    link.setAttribute(\"href\", url);\n    link.setAttribute(\"download\", \"template_produtos.csv\");\n    link.style.visibility = \"hidden\";\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const validateRow = (row, index) => {\n    const errors = [];\n\n    // Validar nome\n    if (!row.nome || row.nome.trim() === \"\") {\n      errors.push(\"Nome é obrigatório\");\n    }\n\n    // Validar preço\n    const price = Number.parseFloat(row.preco?.toString().replace(\",\", \".\"));\n    if (isNaN(price) || price <= 0) {\n      errors.push(\"Preço deve ser um número maior que zero\");\n    }\n\n    // Validar categoria\n    if (!row.categoria || row.categoria.trim() === \"\") {\n      errors.push(\"Categoria é obrigatória\");\n    }\n\n    // Validar código de barras\n    if (!row.codigo_barras || row.codigo_barras.toString().length < 8) {\n      errors.push(\"Código de barras deve ter pelo menos 8 dígitos\");\n    }\n\n    // Verificar duplicata no CSV atual\n    const existingInFile = csvData.find(\n      (item) =>\n        item.barcode === row.codigo_barras?.toString() &&\n        item.rowIndex !== index\n    );\n    if (existingInFile) {\n      errors.push(\"Código de barras duplicado no arquivo\");\n    }\n\n    // Verificar duplicata nos produtos existentes\n    const existingProduct = products.find(\n      (p) => p.barcode === row.codigo_barras?.toString()\n    );\n    if (existingProduct && !allowDuplicates) {\n      errors.push(\"Código de barras já existe no sistema\");\n    }\n\n    const requiresWeight = row.por_peso?.toString().toLowerCase() === \"sim\";\n    const unit = requiresWeight ? \"kg\" : row.unidade || \"un\";\n\n    return {\n      name: row.nome?.toString().trim() || \"\",\n      price: row.preco?.toString() || \"\",\n      category: row.categoria?.toString().trim() || \"\",\n      barcode: row.codigo_barras?.toString() || \"\",\n      requiresWeight: row.por_peso?.toString() || \"nao\",\n      unit: unit,\n      rowIndex: index,\n      errors,\n      isValid: errors.length === 0,\n    };\n  };\n\n  const parseCSV = (text) => {\n    const lines = text.split(\"\\n\").filter((line) => line.trim());\n    if (lines.length < 2) return [];\n\n    const headers = lines[0].split(\",\").map((h) => h.trim().toLowerCase());\n    const rows = [];\n\n    for (let i = 1; i < lines.length; i++) {\n      const values = lines[i].split(\",\");\n      const row = {};\n\n      headers.forEach((header, index) => {\n        row[header] = values[index]?.trim() || \"\";\n      });\n\n      const validatedRow = validateRow(row, i);\n      rows.push(validatedRow);\n    }\n\n    return rows;\n  };\n\n  const handleFileUpload = (file) => {\n    if (!file.name.endsWith(\".csv\")) {\n      alert(\"Por favor, selecione um arquivo CSV\");\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const text = e.target?.result;\n      try {\n        const parsedData = parseCSV(text);\n        setCsvData(parsedData);\n        setStep(\"preview\");\n      } catch (error) {\n        alert(\"Erro ao processar arquivo CSV. Verifique o formato.\");\n      }\n    };\n    reader.readAsText(file, \"UTF-8\");\n  };\n\n  const handleDrag = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  }, []);\n\n  const handleDrop = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      handleFileUpload(e.dataTransfer.files[0]);\n    }\n  }, []);\n\n  const processImport = async () => {\n    setIsProcessing(true);\n\n    const result = {\n      success: 0,\n      errors: 0,\n      duplicates: 0,\n      details: [],\n    };\n\n    const newProducts = [...products];\n\n    for (const row of csvData) {\n      if (!row.isValid) {\n        result.errors++;\n        result.details.push({\n          row: row.rowIndex,\n          name: row.name,\n          status: \"error\",\n          message: row.errors.join(\", \"),\n        });\n        continue;\n      }\n\n      // Verificar se já existe\n      const existingIndex = newProducts.findIndex(\n        (p) => p.barcode === row.barcode\n      );\n\n      if (existingIndex >= 0) {\n        if (allowDuplicates) {\n          // Sobrescrever produto existente\n          newProducts[existingIndex] = {\n            id: newProducts[existingIndex].id,\n            name: row.name,\n            price: Number.parseFloat(row.price.replace(\",\", \".\")),\n            category: row.category,\n            barcode: row.barcode,\n            requiresWeight: row.requiresWeight.toLowerCase() === \"sim\",\n            unit: row.unit,\n          };\n          result.success++;\n          result.details.push({\n            row: row.rowIndex,\n            name: row.name,\n            status: \"success\",\n            message: \"Produto atualizado\",\n          });\n        } else {\n          result.duplicates++;\n          result.details.push({\n            row: row.rowIndex,\n            name: row.name,\n            status: \"duplicate\",\n            message: \"Código de barras já existe\",\n          });\n        }\n      } else {\n        // Adicionar novo produto\n        const newProduct: Product = {\n          id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n          name: row.name,\n          price: Number.parseFloat(row.price.replace(\",\", \".\")),\n          category: row.category,\n          barcode: row.barcode,\n          requiresWeight: row.requiresWeight.toLowerCase() === \"sim\",\n          unit: row.unit,\n        };\n\n        newProducts.push(newProduct);\n        result.success++;\n        result.details.push({\n          row: row.rowIndex,\n          name: row.name,\n          status: \"success\",\n          message: \"Produto adicionado\",\n        });\n      }\n    }\n\n    setImportResult(result);\n    onImportComplete(newProducts);\n    setIsProcessing(false);\n    setStep(\"result\");\n  };\n\n  const resetDialog = () => {\n    setStep(\"upload\");\n    setCsvData([]);\n    setImportResult(null);\n    setIsProcessing(false);\n    setAllowDuplicates(false);\n    setDragActive(false);\n  };\n\n  const handleClose = () => {\n    resetDialog();\n    onOpenChange(false);\n  };\n\n  const validRows = csvData.filter((row) => row.isValid).length;\n  const errorRows = csvData.filter((row) => !row.isValid).length;\n\n  return (\n    <Dialog open={open} onOpenChange={handleClose}>\n      <DialogContent className=\"max-w-4xl max-h-[90vh]\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Upload className=\"w-5 h-5\" />\n            Importar Produtos via CSV\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          {/* Step 1: Upload */}\n          {step === \"upload\" && (\n            <div className=\"space-y-4\">\n              <div className=\"text-center\">\n                <Button\n                  onClick={downloadTemplate}\n                  variant=\"outline\"\n                  className=\"mb-4 bg-transparent\"\n                >\n                  <Download className=\"w-4 h-4 mr-2\" />\n                  Baixar Template CSV\n                </Button>\n              </div>\n\n              <div\n                className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\n                  dragActive ? \"border-blue-500 bg-blue-50\" : \"border-gray-300\"\n                }`}\n                onDragEnter={handleDrag}\n                onDragLeave={handleDrag}\n                onDragOver={handleDrag}\n                onDrop={handleDrop}\n              >\n                <FileText className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-semibold mb-2\">\n                  Arraste o arquivo CSV aqui ou clique para selecionar\n                </h3>\n                <p className=\"text-gray-500 mb-4\">\n                  Formato suportado: CSV com colunas: nome, preco, categoria,\n                  codigo_barras, por_peso, unidade\n                </p>\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\".csv\"\n                  onChange={(e) =>\n                    e.target.files?.[0] && handleFileUpload(e.target.files[0])\n                  }\n                  className=\"hidden\"\n                />\n                <Button onClick={() => fileInputRef.current?.click()}>\n                  Selecionar Arquivo CSV\n                </Button>\n              </div>\n\n              <Alert>\n                <AlertTriangle className=\"h-4 w-4\" />\n                <AlertDescription>\n                  <strong>Formato do CSV:</strong>\n                  <br />• Primeira linha deve conter os cabeçalhos\n                  <br />• Colunas: nome, preco, categoria, codigo_barras,\n                  por_peso (sim/nao), unidade\n                  <br />• Use vírgula como separador\n                  <br />• Codificação UTF-8\n                </AlertDescription>\n              </Alert>\n            </div>\n          )}\n\n          {/* Step 2: Preview */}\n          {step === \"preview\" && (\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-4\">\n                  <Badge variant=\"secondary\">\n                    {csvData.length} linhas encontradas\n                  </Badge>\n                  <Badge variant={validRows > 0 ? \"default\" : \"secondary\"}>\n                    {validRows} válidas\n                  </Badge>\n                  {errorRows > 0 && (\n                    <Badge variant=\"destructive\">{errorRows} com erro</Badge>\n                  )}\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"allowDuplicates\"\n                    checked={allowDuplicates}\n                    onChange={(e) => setAllowDuplicates(e.target.checked)}\n                  />\n                  <Label htmlFor=\"allowDuplicates\" className=\"text-sm\">\n                    Sobrescrever produtos existentes\n                  </Label>\n                </div>\n              </div>\n\n              <ScrollArea className=\"h-96 border rounded-lg\">\n                <div className=\"p-4\">\n                  <table className=\"w-full text-sm\">\n                    <thead>\n                      <tr className=\"border-b\">\n                        <th className=\"text-left p-2\">Linha</th>\n                        <th className=\"text-left p-2\">Nome</th>\n                        <th className=\"text-left p-2\">Preço</th>\n                        <th className=\"text-left p-2\">Categoria</th>\n                        <th className=\"text-left p-2\">Código</th>\n                        <th className=\"text-left p-2\">Peso</th>\n                        <th className=\"text-left p-2\">Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {csvData.map((row, index) => (\n                        <tr\n                          key={index}\n                          className={`border-b ${\n                            !row.isValid ? \"bg-red-50\" : \"\"\n                          }`}\n                        >\n                          <td className=\"p-2\">{row.rowIndex}</td>\n                          <td className=\"p-2\">{row.name}</td>\n                          <td className=\"p-2\">R$ {row.price}</td>\n                          <td className=\"p-2\">{row.category}</td>\n                          <td className=\"p-2 font-mono text-xs\">\n                            {row.barcode}\n                          </td>\n                          <td className=\"p-2\">\n                            {row.requiresWeight === \"sim\" ? \"Sim\" : \"Não\"}\n                          </td>\n                          <td className=\"p-2\">\n                            {row.isValid ? (\n                              <CheckCircle className=\"w-4 h-4 text-green-600\" />\n                            ) : (\n                              <div className=\"flex items-center gap-1\">\n                                <XCircle className=\"w-4 h-4 text-red-600\" />\n                                <span className=\"text-xs text-red-600\">\n                                  {row.errors[0]}\n                                </span>\n                              </div>\n                            )}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </ScrollArea>\n\n              <div className=\"flex gap-2 justify-end\">\n                <Button variant=\"outline\" onClick={() => setStep(\"upload\")}>\n                  Voltar\n                </Button>\n                <Button\n                  onClick={processImport}\n                  disabled={validRows === 0 || isProcessing}\n                >\n                  {isProcessing ? (\n                    <>\n                      <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n                      Importando...\n                    </>\n                  ) : (\n                    <>Importar {validRows} Produtos</>\n                  )}\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {/* Step 3: Result */}\n          {step === \"result\" && importResult && (\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-3 gap-4\">\n                <div className=\"text-center p-4 bg-green-50 rounded-lg\">\n                  <CheckCircle className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\n                  <p className=\"text-2xl font-bold text-green-600\">\n                    {importResult.success}\n                  </p>\n                  <p className=\"text-sm text-green-700\">Importados</p>\n                </div>\n                <div className=\"text-center p-4 bg-red-50 rounded-lg\">\n                  <XCircle className=\"w-8 h-8 text-red-600 mx-auto mb-2\" />\n                  <p className=\"text-2xl font-bold text-red-600\">\n                    {importResult.errors}\n                  </p>\n                  <p className=\"text-sm text-red-700\">Erros</p>\n                </div>\n                <div className=\"text-center p-4 bg-yellow-50 rounded-lg\">\n                  <AlertTriangle className=\"w-8 h-8 text-yellow-600 mx-auto mb-2\" />\n                  <p className=\"text-2xl font-bold text-yellow-600\">\n                    {importResult.duplicates}\n                  </p>\n                  <p className=\"text-sm text-yellow-700\">Duplicados</p>\n                </div>\n              </div>\n\n              <Separator />\n\n              <div>\n                <h3 className=\"font-semibold mb-3\">Detalhes da Importação:</h3>\n                <ScrollArea className=\"h-64 border rounded-lg\">\n                  <div className=\"p-4 space-y-2\">\n                    {importResult.details.map((detail, index) => (\n                      <div\n                        key={index}\n                        className=\"flex items-center gap-3 p-2 border rounded\"\n                      >\n                        {detail.status === \"success\" && (\n                          <CheckCircle className=\"w-4 h-4 text-green-600\" />\n                        )}\n                        {detail.status === \"error\" && (\n                          <XCircle className=\"w-4 h-4 text-red-600\" />\n                        )}\n                        {detail.status === \"duplicate\" && (\n                          <AlertTriangle className=\"w-4 h-4 text-yellow-600\" />\n                        )}\n                        <div className=\"flex-1\">\n                          <p className=\"font-medium text-sm\">{detail.name}</p>\n                          <p className=\"text-xs text-gray-500\">\n                            Linha {detail.row}: {detail.message}\n                          </p>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </ScrollArea>\n              </div>\n\n              <div className=\"flex gap-2 justify-end\">\n                <Button variant=\"outline\" onClick={resetDialog}>\n                  Importar Mais\n                </Button>\n                <Button onClick={handleClose}>Concluir</Button>\n              </div>\n            </div>\n          )}\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}