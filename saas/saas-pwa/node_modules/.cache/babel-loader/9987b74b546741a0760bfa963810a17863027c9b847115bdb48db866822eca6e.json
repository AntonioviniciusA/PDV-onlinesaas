{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/home/v/Documentos/Github/PDV-onlinesaas/pdv-react-pwa/src/components/mixed-payment-dialog.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Calculator, Trash2, Plus, AlertTriangle, QrCode, CheckCircle, XCircle, Clock, RefreshCw, Shield } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function MixedPaymentDialog({\n  open,\n  onOpenChange,\n  totalAmount,\n  onConfirm,\n  onRequestAuthorization\n}) {\n  _s();\n  const [payments, setPayments] = useState([]);\n  const [newPaymentType, setNewPaymentType] = useState(\"\");\n  const [newPaymentAmount, setNewPaymentAmount] = useState(\"\");\n  const [pixPaymentStatus, setPixPaymentStatus] = useState(\"pending\");\n  const [pixTimeLeft, setPixTimeLeft] = useState(300);\n  const [isSimulatingPix, setIsSimulatingPix] = useState(false);\n  const [pixAuthorizedByFiscal, setPixAuthorizedByFiscal] = useState(false);\n\n  // Timer para expira√ß√£o do PIX\n  useEffect(() => {\n    const pixPayment = payments.find(p => p.type === \"pix\");\n    if (!pixPayment || pixPaymentStatus !== \"pending\") return;\n    const timer = setInterval(() => {\n      setPixTimeLeft(prev => {\n        if (prev <= 1) {\n          setPixPaymentStatus(\"expired\");\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [payments, pixPaymentStatus]);\n\n  // Reset PIX quando dialog abrir\n  useEffect(() => {\n    if (open) {\n      setPixPaymentStatus(\"pending\");\n      setPixTimeLeft(300);\n      setIsSimulatingPix(false);\n      setPixAuthorizedByFiscal(false);\n    }\n  }, [open]);\n  const totalPaid = payments.reduce((sum, payment) => sum + payment.amount, 0);\n  const remaining = totalAmount - totalPaid;\n  const pixPayment = payments.find(p => p.type === \"pix\");\n  const hasPixPayment = !!pixPayment;\n  const pixAmount = (pixPayment === null || pixPayment === void 0 ? void 0 : pixPayment.amount) || 0;\n  const isPixValid = !hasPixPayment || pixPaymentStatus === \"paid\" || pixAuthorizedByFiscal;\n  const isComplete = Math.abs(remaining) < 0.01 && isPixValid;\n  const paymentOptions = [{\n    id: \"dinheiro\",\n    name: \"Dinheiro\"\n  }, {\n    id: \"credito\",\n    name: \"Cart√£o Cr√©dito\"\n  }, {\n    id: \"debito\",\n    name: \"Cart√£o D√©bito\"\n  }, {\n    id: \"pix\",\n    name: \"PIX\"\n  }, {\n    id: \"alimentacao\",\n    name: \"Vale Alimenta√ß√£o\"\n  }, {\n    id: \"refeicao\",\n    name: \"Vale Refei√ß√£o\"\n  }];\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`;\n  };\n  const simulatePixPayment = status => {\n    setIsSimulatingPix(true);\n    setTimeout(() => {\n      setPixPaymentStatus(status);\n      setIsSimulatingPix(false);\n    }, 2000);\n  };\n  const generateNewPixQR = () => {\n    setPixPaymentStatus(\"pending\");\n    setPixTimeLeft(300);\n  };\n  const requestPixAuthorization = () => {\n    if (onRequestAuthorization) {\n      onRequestAuthorization({\n        type: \"pix-override\",\n        title: \"Alterar Status PIX\",\n        description: \"Autorizar finaliza√ß√£o da venda sem confirma√ß√£o do PIX. Esta a√ß√£o requer autoriza√ß√£o do fiscal.\",\n        action: () => setPixAuthorizedByFiscal(true)\n      });\n    }\n  };\n  const addPayment = () => {\n    var _paymentOptions$find;\n    if (!newPaymentType || !newPaymentAmount) return;\n    const amount = Number.parseFloat(newPaymentAmount);\n    if (amount <= 0) return;\n    const paymentName = ((_paymentOptions$find = paymentOptions.find(p => p.id === newPaymentType)) === null || _paymentOptions$find === void 0 ? void 0 : _paymentOptions$find.name) || newPaymentType;\n    const newPayment = {\n      id: Date.now().toString(),\n      type: newPaymentType,\n      name: paymentName,\n      amount: amount\n    };\n    setPayments(prev => [...prev, newPayment]);\n    setNewPaymentType(\"\");\n    setNewPaymentAmount(\"\");\n  };\n  const removePayment = id => {\n    setPayments(prev => prev.filter(p => p.id !== id));\n  };\n  const handleConfirm = () => {\n    if (isComplete) {\n      onConfirm(payments);\n      setPayments([]);\n      onOpenChange(false);\n    }\n  };\n  const fillRemaining = () => {\n    if (remaining > 0) {\n      setNewPaymentAmount(remaining.toFixed(2));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onOpenChange: onOpenChange,\n    children: /*#__PURE__*/_jsxDEV(DialogContent, {\n      className: \"max-w-lg\",\n      children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n        children: /*#__PURE__*/_jsxDEV(DialogTitle, {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Calculator, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), \"Pagamento Misto\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 p-4 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-3 gap-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-600\",\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold text-blue-600\",\n                children: [\"R$ \", totalAmount.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-600\",\n                children: \"Pago\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold text-green-600\",\n                children: [\"R$ \", totalPaid.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-600\",\n                children: \"Restante\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-bold ${remaining > 0 ? \"text-red-600\" : \"text-green-600\"}`,\n                children: [\"R$ \", Math.abs(remaining).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), payments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Formas de Pagamento:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), payments.map(payment => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-3 border rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"secondary\",\n                children: payment.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: [\"R$ \", payment.amount.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"sm\",\n              variant: \"outline\",\n              onClick: () => removePayment(payment.id),\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this)]\n          }, payment.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), hasPixPayment && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4 border-t pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(QrCode, {\n              className: \"w-5 h-5 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Label, {\n              children: [\"PIX - R$ \", pixAmount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center space-y-3 bg-gray-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-32 h-32 bg-white border-2 border-gray-300 rounded-lg flex items-center justify-center relative\",\n              children: pixPaymentStatus === \"pending\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-6 gap-1 mb-1\",\n                  children: Array.from({\n                    length: 36\n                  }).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `w-1 h-1 ${Math.random() > 0.5 ? \"bg-black\" : \"bg-white\"}`\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"QR PIX\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [pixPaymentStatus === \"paid\" && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"w-8 h-8 text-green-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 25\n                }, this), pixPaymentStatus === \"denied\" && /*#__PURE__*/_jsxDEV(XCircle, {\n                  className: \"w-8 h-8 text-red-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 25\n                }, this), pixPaymentStatus === \"expired\" && /*#__PURE__*/_jsxDEV(Clock, {\n                  className: \"w-8 h-8 text-gray-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs mt-1 font-semibold\",\n                  children: [pixPaymentStatus === \"paid\" && \"PAGO\", pixPaymentStatus === \"denied\" && \"NEGADO\", pixPaymentStatus === \"expired\" && \"EXPIRADO\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [pixPaymentStatus === \"pending\" && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-blue-600 font-semibold\",\n                children: [\"Aguardando PIX... \", formatTime(pixTimeLeft)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 21\n              }, this), pixPaymentStatus === \"paid\" && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-green-600 font-semibold\",\n                children: \"\\u2705 PIX CONFIRMADO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 21\n              }, this), pixPaymentStatus === \"denied\" && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-600 font-semibold\",\n                children: \"\\u274C PIX NEGADO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 21\n              }, this), pixPaymentStatus === \"expired\" && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600 font-semibold\",\n                children: \"\\u23F0 PIX EXPIRADO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 21\n              }, this), pixAuthorizedByFiscal && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-orange-600 font-semibold\",\n                children: \"\\uD83D\\uDEE1\\uFE0F AUTORIZADO PELO FISCAL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), pixPaymentStatus === \"pending\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                variant: \"outline\",\n                onClick: () => simulatePixPayment(\"paid\"),\n                disabled: isSimulatingPix,\n                className: \"text-green-600 border-green-600\",\n                children: isSimulatingPix ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n                  className: \"w-3 h-3 animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 25\n                }, this) : \"Simular Pago\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                variant: \"outline\",\n                onClick: () => simulatePixPayment(\"denied\"),\n                disabled: isSimulatingPix,\n                className: \"text-red-600 border-red-600\",\n                children: isSimulatingPix ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n                  className: \"w-3 h-3 animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 25\n                }, this) : \"Simular Negado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 19\n            }, this), (pixPaymentStatus === \"denied\" || pixPaymentStatus === \"expired\") && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                onClick: generateNewPixQR,\n                variant: \"outline\",\n                children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                  className: \"w-3 h-3 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 23\n                }, this), \"Novo QR\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                onClick: requestPixAuthorization,\n                variant: \"outline\",\n                className: \"text-orange-600 bg-transparent\",\n                children: [/*#__PURE__*/_jsxDEV(Shield, {\n                  className: \"w-3 h-3 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 23\n                }, this), \"Autorizar\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this), !isComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3 border-t pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Adicionar Forma de Pagamento:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"paymentType\",\n                children: \"Tipo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"paymentType\",\n                value: newPaymentType,\n                onChange: e => setNewPaymentType(e.target.value),\n                className: \"w-full p-2 border rounded-md\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Selecione...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 21\n                }, this), paymentOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: option.id,\n                  children: option.name\n                }, option.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"paymentAmount\",\n                children: \"Valor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Input, {\n                  id: \"paymentAmount\",\n                  type: \"number\",\n                  step: \"0.01\",\n                  min: \"0\",\n                  value: newPaymentAmount,\n                  onChange: e => setNewPaymentAmount(e.target.value),\n                  placeholder: \"0,00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"button\",\n                  size: \"sm\",\n                  variant: \"outline\",\n                  onClick: fillRemaining,\n                  title: \"Preencher valor restante\",\n                  children: /*#__PURE__*/_jsxDEV(Plus, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: addPayment,\n            disabled: !newPaymentType || !newPaymentAmount,\n            className: \"w-full\",\n            children: \"Adicionar Pagamento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), remaining > 0.01 && /*#__PURE__*/_jsxDEV(Alert, {\n          children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n            children: [\"Ainda faltam R$ \", remaining.toFixed(2), \" para completar o pagamento.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), hasPixPayment && pixPaymentStatus === \"pending\" && Math.abs(remaining) < 0.01 && /*#__PURE__*/_jsxDEV(Alert, {\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n            children: \"Aguardando confirma\\xE7\\xE3o do PIX para finalizar a venda.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 15\n        }, this), hasPixPayment && pixPaymentStatus === \"denied\" && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"destructive\",\n          children: [/*#__PURE__*/_jsxDEV(XCircle, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n            children: \"PIX negado. Gere um novo QR Code ou solicite autoriza\\xE7\\xE3o do fiscal.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this), hasPixPayment && pixPaymentStatus === \"expired\" && /*#__PURE__*/_jsxDEV(Alert, {\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n            children: \"QR Code PIX expirado. Gere um novo c\\xF3digo ou solicite autoriza\\xE7\\xE3o do fiscal.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this), pixAuthorizedByFiscal && /*#__PURE__*/_jsxDEV(Alert, {\n          className: \"border-orange-200 bg-orange-50\",\n          children: [/*#__PURE__*/_jsxDEV(Shield, {\n            className: \"h-4 w-4 text-orange-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n            className: \"text-orange-800\",\n            children: \"PIX autorizado pelo fiscal para finaliza\\xE7\\xE3o da venda.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), isComplete && !hasPixPayment && /*#__PURE__*/_jsxDEV(Alert, {\n          className: \"border-green-200 bg-green-50\",\n          children: /*#__PURE__*/_jsxDEV(AlertDescription, {\n            className: \"text-green-800\",\n            children: \"\\u2705 Pagamento completo! Pode finalizar a venda.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 13\n        }, this), isComplete && hasPixPayment && (pixPaymentStatus === \"paid\" || pixAuthorizedByFiscal) && /*#__PURE__*/_jsxDEV(Alert, {\n          className: \"border-green-200 bg-green-50\",\n          children: /*#__PURE__*/_jsxDEV(AlertDescription, {\n            className: \"text-green-800\",\n            children: \"\\u2705 Pagamento completo e PIX confirmado! Pode finalizar a venda.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 justify-end\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => onOpenChange(false),\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleConfirm,\n            disabled: !isComplete,\n            children: \"Confirmar Pagamento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n}\n_s(MixedPaymentDialog, \"tbC3IwEOZOjOHgXAyoUMTNgjuJ4=\");\n_c = MixedPaymentDialog;\nvar _c;\n$RefreshReg$(_c, \"MixedPaymentDialog\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","Dialog","DialogContent","DialogHeader","DialogTitle","Button","Input","Label","Badge","Alert","AlertDescription","Calculator","Trash2","Plus","AlertTriangle","QrCode","CheckCircle","XCircle","Clock","RefreshCw","Shield","jsxDEV","_jsxDEV","MixedPaymentDialog","open","onOpenChange","totalAmount","onConfirm","onRequestAuthorization","payments","setPayments","newPaymentType","setNewPaymentType","newPaymentAmount","setNewPaymentAmount","pixPaymentStatus","setPixPaymentStatus","pixTimeLeft","setPixTimeLeft","isSimulatingPix","setIsSimulatingPix","pixAuthorizedByFiscal","setPixAuthorizedByFiscal","pixPayment","find","p","type","timer","setInterval","prev","clearInterval","totalPaid","reduce","sum","payment","amount","remaining","hasPixPayment","pixAmount","isPixValid","isComplete","Math","abs","paymentOptions","id","name","formatTime","seconds","mins","floor","secs","toString","padStart","simulatePixPayment","status","setTimeout","generateNewPixQR","requestPixAuthorization","title","description","action","addPayment","_paymentOptions$find","Number","parseFloat","paymentName","newPayment","Date","now","removePayment","filter","handleConfirm","fillRemaining","toFixed","children","className","fileName","lineNumber","columnNumber","length","map","variant","size","onClick","Array","from","_","i","random","disabled","htmlFor","value","onChange","e","target","option","step","min","placeholder","_c","$RefreshReg$"],"sources":["/home/v/Documentos/Github/PDV-onlinesaas/pdv-react-pwa/src/components/mixed-payment-dialog.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport {\n  Calculator,\n  Trash2,\n  Plus,\n  AlertTriangle,\n  QrCode,\n  CheckCircle,\n  XCircle,\n  Clock,\n  RefreshCw,\n  Shield,\n} from \"lucide-react\";\n\nexport function MixedPaymentDialog({\n  open,\n  onOpenChange,\n  totalAmount,\n  onConfirm,\n  onRequestAuthorization,\n}: MixedPaymentDialogProps) {\n  const [payments, setPayments] = useState([]);\n  const [newPaymentType, setNewPaymentType] = useState(\"\");\n  const [newPaymentAmount, setNewPaymentAmount] = useState(\"\");\n\n  const [pixPaymentStatus, setPixPaymentStatus] = useState(\"pending\");\n  const [pixTimeLeft, setPixTimeLeft] = useState(300);\n  const [isSimulatingPix, setIsSimulatingPix] = useState(false);\n  const [pixAuthorizedByFiscal, setPixAuthorizedByFiscal] = useState(false);\n\n  // Timer para expira√ß√£o do PIX\n  useEffect(() => {\n    const pixPayment = payments.find((p) => p.type === \"pix\");\n    if (!pixPayment || pixPaymentStatus !== \"pending\") return;\n\n    const timer = setInterval(() => {\n      setPixTimeLeft((prev) => {\n        if (prev <= 1) {\n          setPixPaymentStatus(\"expired\");\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [payments, pixPaymentStatus]);\n\n  // Reset PIX quando dialog abrir\n  useEffect(() => {\n    if (open) {\n      setPixPaymentStatus(\"pending\");\n      setPixTimeLeft(300);\n      setIsSimulatingPix(false);\n      setPixAuthorizedByFiscal(false);\n    }\n  }, [open]);\n\n  const totalPaid = payments.reduce((sum, payment) => sum + payment.amount, 0);\n  const remaining = totalAmount - totalPaid;\n  const pixPayment = payments.find((p) => p.type === \"pix\");\n  const hasPixPayment = !!pixPayment;\n  const pixAmount = pixPayment?.amount || 0;\n  const isPixValid =\n    !hasPixPayment || pixPaymentStatus === \"paid\" || pixAuthorizedByFiscal;\n  const isComplete = Math.abs(remaining) < 0.01 && isPixValid;\n\n  const paymentOptions = [\n    { id: \"dinheiro\", name: \"Dinheiro\" },\n    { id: \"credito\", name: \"Cart√£o Cr√©dito\" },\n    { id: \"debito\", name: \"Cart√£o D√©bito\" },\n    { id: \"pix\", name: \"PIX\" },\n    { id: \"alimentacao\", name: \"Vale Alimenta√ß√£o\" },\n    { id: \"refeicao\", name: \"Vale Refei√ß√£o\" },\n  ];\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`;\n  };\n\n  const simulatePixPayment = (status) => {\n    setIsSimulatingPix(true);\n    setTimeout(() => {\n      setPixPaymentStatus(status);\n      setIsSimulatingPix(false);\n    }, 2000);\n  };\n\n  const generateNewPixQR = () => {\n    setPixPaymentStatus(\"pending\");\n    setPixTimeLeft(300);\n  };\n\n  const requestPixAuthorization = () => {\n    if (onRequestAuthorization) {\n      onRequestAuthorization({\n        type: \"pix-override\",\n        title: \"Alterar Status PIX\",\n        description:\n          \"Autorizar finaliza√ß√£o da venda sem confirma√ß√£o do PIX. Esta a√ß√£o requer autoriza√ß√£o do fiscal.\",\n        action: () => setPixAuthorizedByFiscal(true),\n      });\n    }\n  };\n\n  const addPayment = () => {\n    if (!newPaymentType || !newPaymentAmount) return;\n\n    const amount = Number.parseFloat(newPaymentAmount);\n    if (amount <= 0) return;\n\n    const paymentName =\n      paymentOptions.find((p) => p.id === newPaymentType)?.name ||\n      newPaymentType;\n\n    const newPayment = {\n      id: Date.now().toString(),\n      type: newPaymentType,\n      name: paymentName,\n      amount: amount,\n    };\n\n    setPayments((prev) => [...prev, newPayment]);\n    setNewPaymentType(\"\");\n    setNewPaymentAmount(\"\");\n  };\n\n  const removePayment = (id) => {\n    setPayments((prev) => prev.filter((p) => p.id !== id));\n  };\n\n  const handleConfirm = () => {\n    if (isComplete) {\n      onConfirm(payments);\n      setPayments([]);\n      onOpenChange(false);\n    }\n  };\n\n  const fillRemaining = () => {\n    if (remaining > 0) {\n      setNewPaymentAmount(remaining.toFixed(2));\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-lg\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Calculator className=\"w-5 h-5\" />\n            Pagamento Misto\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          {/* Resumo */}\n          <div className=\"bg-blue-50 p-4 rounded-lg\">\n            <div className=\"grid grid-cols-3 gap-4 text-center\">\n              <div>\n                <p className=\"text-xs text-gray-600\">Total</p>\n                <p className=\"font-bold text-blue-600\">\n                  R$ {totalAmount.toFixed(2)}\n                </p>\n              </div>\n              <div>\n                <p className=\"text-xs text-gray-600\">Pago</p>\n                <p className=\"font-bold text-green-600\">\n                  R$ {totalPaid.toFixed(2)}\n                </p>\n              </div>\n              <div>\n                <p className=\"text-xs text-gray-600\">Restante</p>\n                <p\n                  className={`font-bold ${\n                    remaining > 0 ? \"text-red-600\" : \"text-green-600\"\n                  }`}\n                >\n                  R$ {Math.abs(remaining).toFixed(2)}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Pagamentos Adicionados */}\n          {payments.length > 0 && (\n            <div className=\"space-y-2\">\n              <Label>Formas de Pagamento:</Label>\n              {payments.map((payment) => (\n                <div\n                  key={payment.id}\n                  className=\"flex items-center justify-between p-3 border rounded-lg\"\n                >\n                  <div className=\"flex items-center gap-2\">\n                    <Badge variant=\"secondary\">{payment.name}</Badge>\n                    <span className=\"font-semibold\">\n                      R$ {payment.amount.toFixed(2)}\n                    </span>\n                  </div>\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    onClick={() => removePayment(payment.id)}\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </Button>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* QR Code PIX */}\n          {hasPixPayment && (\n            <div className=\"space-y-4 border-t pt-4\">\n              <div className=\"flex items-center gap-2\">\n                <QrCode className=\"w-5 h-5 text-blue-600\" />\n                <Label>PIX - R$ {pixAmount.toFixed(2)}</Label>\n              </div>\n\n              <div className=\"flex flex-col items-center space-y-3 bg-gray-50 p-4 rounded-lg\">\n                <div className=\"w-32 h-32 bg-white border-2 border-gray-300 rounded-lg flex items-center justify-center relative\">\n                  {pixPaymentStatus === \"pending\" ? (\n                    <div className=\"text-center\">\n                      <div className=\"grid grid-cols-6 gap-1 mb-1\">\n                        {Array.from({ length: 36 }).map((_, i) => (\n                          <div\n                            key={i}\n                            className={`w-1 h-1 ${\n                              Math.random() > 0.5 ? \"bg-black\" : \"bg-white\"\n                            }`}\n                          />\n                        ))}\n                      </div>\n                      <p className=\"text-xs text-gray-500\">QR PIX</p>\n                    </div>\n                  ) : (\n                    <div className=\"text-center\">\n                      {pixPaymentStatus === \"paid\" && (\n                        <CheckCircle className=\"w-8 h-8 text-green-600\" />\n                      )}\n                      {pixPaymentStatus === \"denied\" && (\n                        <XCircle className=\"w-8 h-8 text-red-600\" />\n                      )}\n                      {pixPaymentStatus === \"expired\" && (\n                        <Clock className=\"w-8 h-8 text-gray-600\" />\n                      )}\n                      <p className=\"text-xs mt-1 font-semibold\">\n                        {pixPaymentStatus === \"paid\" && \"PAGO\"}\n                        {pixPaymentStatus === \"denied\" && \"NEGADO\"}\n                        {pixPaymentStatus === \"expired\" && \"EXPIRADO\"}\n                      </p>\n                    </div>\n                  )}\n                </div>\n\n                {/* Status PIX */}\n                <div className=\"text-center\">\n                  {pixPaymentStatus === \"pending\" && (\n                    <p className=\"text-sm text-blue-600 font-semibold\">\n                      Aguardando PIX... {formatTime(pixTimeLeft)}\n                    </p>\n                  )}\n                  {pixPaymentStatus === \"paid\" && (\n                    <p className=\"text-sm text-green-600 font-semibold\">\n                      ‚úÖ PIX CONFIRMADO\n                    </p>\n                  )}\n                  {pixPaymentStatus === \"denied\" && (\n                    <p className=\"text-sm text-red-600 font-semibold\">\n                      ‚ùå PIX NEGADO\n                    </p>\n                  )}\n                  {pixPaymentStatus === \"expired\" && (\n                    <p className=\"text-sm text-gray-600 font-semibold\">\n                      ‚è∞ PIX EXPIRADO\n                    </p>\n                  )}\n                  {pixAuthorizedByFiscal && (\n                    <p className=\"text-sm text-orange-600 font-semibold\">\n                      üõ°Ô∏è AUTORIZADO PELO FISCAL\n                    </p>\n                  )}\n                </div>\n\n                {/* Bot√µes PIX */}\n                {pixPaymentStatus === \"pending\" && (\n                  <div className=\"flex gap-2\">\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => simulatePixPayment(\"paid\")}\n                      disabled={isSimulatingPix}\n                      className=\"text-green-600 border-green-600\"\n                    >\n                      {isSimulatingPix ? (\n                        <RefreshCw className=\"w-3 h-3 animate-spin\" />\n                      ) : (\n                        \"Simular Pago\"\n                      )}\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => simulatePixPayment(\"denied\")}\n                      disabled={isSimulatingPix}\n                      className=\"text-red-600 border-red-600\"\n                    >\n                      {isSimulatingPix ? (\n                        <RefreshCw className=\"w-3 h-3 animate-spin\" />\n                      ) : (\n                        \"Simular Negado\"\n                      )}\n                    </Button>\n                  </div>\n                )}\n\n                {(pixPaymentStatus === \"denied\" ||\n                  pixPaymentStatus === \"expired\") && (\n                  <div className=\"flex gap-2\">\n                    <Button\n                      size=\"sm\"\n                      onClick={generateNewPixQR}\n                      variant=\"outline\"\n                    >\n                      <RefreshCw className=\"w-3 h-3 mr-1\" />\n                      Novo QR\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      onClick={requestPixAuthorization}\n                      variant=\"outline\"\n                      className=\"text-orange-600 bg-transparent\"\n                    >\n                      <Shield className=\"w-3 h-3 mr-1\" />\n                      Autorizar\n                    </Button>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Adicionar Pagamento */}\n          {!isComplete && (\n            <div className=\"space-y-3 border-t pt-4\">\n              <Label>Adicionar Forma de Pagamento:</Label>\n\n              <div className=\"grid grid-cols-2 gap-2\">\n                <div>\n                  <Label htmlFor=\"paymentType\">Tipo</Label>\n                  <select\n                    id=\"paymentType\"\n                    value={newPaymentType}\n                    onChange={(e) => setNewPaymentType(e.target.value)}\n                    className=\"w-full p-2 border rounded-md\"\n                  >\n                    <option value=\"\">Selecione...</option>\n                    {paymentOptions.map((option) => (\n                      <option key={option.id} value={option.id}>\n                        {option.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <Label htmlFor=\"paymentAmount\">Valor</Label>\n                  <div className=\"flex gap-1\">\n                    <Input\n                      id=\"paymentAmount\"\n                      type=\"number\"\n                      step=\"0.01\"\n                      min=\"0\"\n                      value={newPaymentAmount}\n                      onChange={(e) => setNewPaymentAmount(e.target.value)}\n                      placeholder=\"0,00\"\n                    />\n                    <Button\n                      type=\"button\"\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={fillRemaining}\n                      title=\"Preencher valor restante\"\n                    >\n                      <Plus className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </div>\n\n              <Button\n                onClick={addPayment}\n                disabled={!newPaymentType || !newPaymentAmount}\n                className=\"w-full\"\n              >\n                Adicionar Pagamento\n              </Button>\n            </div>\n          )}\n\n          {/* Alertas */}\n          {remaining > 0.01 && (\n            <Alert>\n              <AlertTriangle className=\"h-4 w-4\" />\n              <AlertDescription>\n                Ainda faltam R$ {remaining.toFixed(2)} para completar o\n                pagamento.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          {hasPixPayment &&\n            pixPaymentStatus === \"pending\" &&\n            Math.abs(remaining) < 0.01 && (\n              <Alert>\n                <Clock className=\"h-4 w-4\" />\n                <AlertDescription>\n                  Aguardando confirma√ß√£o do PIX para finalizar a venda.\n                </AlertDescription>\n              </Alert>\n            )}\n\n          {hasPixPayment && pixPaymentStatus === \"denied\" && (\n            <Alert variant=\"destructive\">\n              <XCircle className=\"h-4 w-4\" />\n              <AlertDescription>\n                PIX negado. Gere um novo QR Code ou solicite autoriza√ß√£o do\n                fiscal.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          {hasPixPayment && pixPaymentStatus === \"expired\" && (\n            <Alert>\n              <Clock className=\"h-4 w-4\" />\n              <AlertDescription>\n                QR Code PIX expirado. Gere um novo c√≥digo ou solicite\n                autoriza√ß√£o do fiscal.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          {pixAuthorizedByFiscal && (\n            <Alert className=\"border-orange-200 bg-orange-50\">\n              <Shield className=\"h-4 w-4 text-orange-600\" />\n              <AlertDescription className=\"text-orange-800\">\n                PIX autorizado pelo fiscal para finaliza√ß√£o da venda.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          {isComplete && !hasPixPayment && (\n            <Alert className=\"border-green-200 bg-green-50\">\n              <AlertDescription className=\"text-green-800\">\n                ‚úÖ Pagamento completo! Pode finalizar a venda.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          {isComplete &&\n            hasPixPayment &&\n            (pixPaymentStatus === \"paid\" || pixAuthorizedByFiscal) && (\n              <Alert className=\"border-green-200 bg-green-50\">\n                <AlertDescription className=\"text-green-800\">\n                  ‚úÖ Pagamento completo e PIX confirmado! Pode finalizar a\n                  venda.\n                </AlertDescription>\n              </Alert>\n            )}\n\n          {/* A√ß√µes */}\n          <div className=\"flex gap-2 justify-end\">\n            <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n              Cancelar\n            </Button>\n            <Button onClick={handleConfirm} disabled={!isComplete}>\n              Confirmar Pagamento\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}