{"ast":null,"code":"var _jsxFileName = \"/home/v/Documentos/Github/PDV-onlinesaas/pdv-react-pwa/src/pdv-caixa.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { Button } from \"./components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"./components/ui/card\";\nimport { Input } from \"./components/ui/input\";\nimport { Label } from \"./components/ui/label\";\nimport { Separator } from \"./components/ui/separator\";\nimport { ScrollArea } from \"./components/ui/scroll-area\";\nimport { ShoppingCart, Plus, Minus, Search, CreditCard, Banknote, Percent, Calculator, QrCode, History, Shield, Scale, DollarSign, Package, Tag, Settings } from \"lucide-react\";\nimport HistoricoVendas from \"./historico-vendas\";\nimport CadastroProdutos from \"./cadastro-produtos\";\nimport EtiquetasPreco from \"./etiquetas-preco\";\nimport { Badge } from \"./components/ui/badge\";\nimport { useKeyboardShortcuts } from \"./hooks/use-keyboard-shortcuts\";\nimport { KeyboardShortcutsHelp } from \"./components/keyboard-shortcuts-help\";\nimport { AuthorizationDialog } from \"./components/authorization-dialog\";\nimport { CashPaymentDialog } from \"./components/cash-payment-dialog\";\nimport { PixPaymentDialog } from \"./components/pix-payment-dialog\";\nimport { CardPaymentDialog } from \"./components/card-payment-dialog\";\nimport { MixedPaymentDialog } from \"./components/mixed-payment-dialog\";\nimport { WeightInputDialog } from \"./components/weight-input-dialog\";\nimport { LoginDialog } from \"./components/login-dialog\";\nimport { LabelConfigDialog } from \"./components/label-config-dialog\";\nimport { ReceiptConfigDialog } from \"./components/receipt-config-dialog\";\nimport { CashManagementDialog } from \"./components/cash-management-dialog\";\nimport { ReceiptSelectionDialog } from \"./components/receipt-selection-dialog\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialProducts = [{\n  id: \"1\",\n  name: \"Coca-Cola 350ml\",\n  price: 4.5,\n  category: \"Bebidas\",\n  barcode: \"7894900011517\",\n  unit: \"un\",\n  icms: 18,\n  quantity: 350,\n  measureUnit: \"ml\"\n}, {\n  id: \"2\",\n  name: \"P√£o Franc√™s\",\n  price: 8.9,\n  category: \"Padaria\",\n  barcode: \"2000000000001\",\n  requiresWeight: true,\n  unit: \"kg\",\n  icms: 7\n}, {\n  id: \"3\",\n  name: \"Leite Integral 1L\",\n  price: 5.2,\n  category: \"Latic√≠nios\",\n  barcode: \"7891000100103\",\n  unit: \"un\",\n  icms: 12,\n  quantity: 1,\n  measureUnit: \"l\"\n}, {\n  id: \"4\",\n  name: \"Arroz Branco 5kg\",\n  price: 22.9,\n  category: \"Gr√£os\",\n  barcode: \"7896036098004\",\n  unit: \"un\",\n  icms: 7,\n  quantity: 5,\n  measureUnit: \"kg\"\n}, {\n  id: \"5\",\n  name: \"Feij√£o Preto\",\n  price: 7.8,\n  category: \"Gr√£os\",\n  barcode: \"7896036098011\",\n  requiresWeight: true,\n  unit: \"kg\",\n  icms: 7\n}, {\n  id: \"6\",\n  name: \"A√ß√∫car Cristal\",\n  price: 4.2,\n  category: \"A√ß√∫car\",\n  barcode: \"7896036098028\",\n  requiresWeight: true,\n  unit: \"kg\",\n  icms: 7\n}, {\n  id: \"7\",\n  name: \"√ìleo de Soja 900ml\",\n  price: 6.9,\n  category: \"√ìleos\",\n  barcode: \"7896036098035\",\n  unit: \"un\",\n  icms: 18,\n  quantity: 900,\n  measureUnit: \"ml\"\n}, {\n  id: \"8\",\n  name: \"Macarr√£o Espaguete\",\n  price: 3.8,\n  category: \"Massas\",\n  barcode: \"7896036098042\",\n  unit: \"un\",\n  icms: 7,\n  quantity: 500,\n  measureUnit: \"g\"\n}, {\n  id: \"9\",\n  name: \"Banana Prata\",\n  price: 5.5,\n  category: \"Frutas\",\n  barcode: \"2000000000002\",\n  requiresWeight: true,\n  unit: \"kg\",\n  icms: 7\n}, {\n  id: \"10\",\n  name: \"Tomate\",\n  price: 8.2,\n  category: \"Verduras\",\n  barcode: \"2000000000003\",\n  requiresWeight: true,\n  unit: \"kg\",\n  icms: 7\n}, {\n  id: \"11\",\n  name: \"Carne Mo√≠da\",\n  price: 32.9,\n  category: \"Carnes\",\n  barcode: \"2000000000004\",\n  requiresWeight: true,\n  unit: \"kg\",\n  icms: 7\n}];\nexport default function PDVCaixa() {\n  _s();\n  var _receiptConfig$rolePe, _receiptConfig$rolePe2;\n  const [products, setProducts] = useState(initialProducts);\n  const [cart, setCart] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [barcode, setBarcode] = useState(\"\");\n  const [discount, setDiscount] = useState(0);\n  const [tempDiscount, setTempDiscount] = useState(0);\n  const [discountType, setDiscountType] = useState(\"percentage\");\n  const [discountValue, setDiscountValue] = useState(0);\n  const [tempDiscountValue, setTempDiscountValue] = useState(0);\n  const [paymentMethod, setPaymentMethod] = useState(null);\n  const [currentScreen, setCurrentScreen] = useState(\"pdv\");\n  const [selectedCartIndex, setSelectedCartIndex] = useState(-1);\n  const [authorizationRequest, setAuthorizationRequest] = useState(null);\n  const [authorizationLog, setAuthorizationLog] = useState([]);\n  const [showCashPayment, setShowCashPayment] = useState(false);\n  const [showPixPayment, setShowPixPayment] = useState(false);\n  const [showCardSelection, setShowCardSelection] = useState(false);\n  const [showMixedPayment, setShowMixedPayment] = useState(false);\n  const [pixPaymentConfirmed, setPixPaymentConfirmed] = useState(false);\n  const [selectedCardType, setSelectedCardType] = useState(\"\");\n  const [mixedPayments, setMixedPayments] = useState([]);\n  const [showProductList, setShowProductList] = useState(false);\n  const [showWeightDialog, setShowWeightDialog] = useState(false);\n  const [selectedProductForWeight, setSelectedProductForWeight] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(true);\n  const [showLabelConfig, setShowLabelConfig] = useState(false);\n  const [showReceiptConfig, setShowReceiptConfig] = useState(false);\n  const [showCashManagement, setShowCashManagement] = useState(false);\n  const [showReceiptSelection, setShowReceiptSelection] = useState(false);\n  const [cashAction, setCashAction] = useState(\"open\");\n  const [cashSession, setCashSession] = useState(null);\n  const [labelTemplate, setLabelTemplate] = useState({\n    id: \"standard\",\n    name: \"Padr√£o\",\n    width: 140,\n    height: 100,\n    showComparison: true,\n    showICMS: true,\n    showBarcode: true,\n    fontSize: {\n      name: 12,\n      price: 18,\n      comparison: 10,\n      barcode: 8\n    },\n    colors: {\n      background: \"#ffffff\",\n      text: \"#000000\",\n      price: \"#16a34a\",\n      comparison: \"#2563eb\"\n    }\n  });\n  const [receiptConfig, setReceiptConfig] = useState({\n    enableFiscalCoupon: true,\n    enableReceipt: true,\n    defaultType: \"fiscal\",\n    rolePermissions: {\n      caixa: {\n        canChoose: false,\n        defaultType: \"receipt\"\n      },\n      fiscal: {\n        canChoose: true,\n        defaultType: \"fiscal\"\n      },\n      supervisor: {\n        canChoose: true,\n        defaultType: \"fiscal\"\n      },\n      gerente: {\n        canChoose: true,\n        defaultType: \"both\"\n      },\n      admin: {\n        canChoose: true,\n        defaultType: \"both\"\n      }\n    }\n  });\n  const searchInputRef = useRef(null);\n  const barcodeInputRef = useRef(null);\n  const discountInputRef = useRef(null);\n  const discountValueInputRef = useRef(null);\n  const searchTimeoutRef = useRef();\n  const filteredProducts = products.filter(product => product.name.toLowerCase().includes(searchTerm.toLowerCase()) || product.barcode.includes(searchTerm));\n\n  // Auto-hide da lista de produtos ap√≥s 3 segundos sem pesquisa\n  useEffect(() => {\n    if (searchTerm.trim()) {\n      setShowProductList(true);\n\n      // Limpar timeout anterior\n      if (searchTimeoutRef.current) {\n        clearTimeout(searchTimeoutRef.current);\n      }\n\n      // Definir novo timeout para esconder a lista\n      searchTimeoutRef.current = setTimeout(() => {\n        setShowProductList(false);\n      }, 5000); // 5 segundos\n    } else {\n      setShowProductList(false);\n    }\n    return () => {\n      if (searchTimeoutRef.current) {\n        clearTimeout(searchTimeoutRef.current);\n      }\n    };\n  }, [searchTerm]);\n  const logAuthorization = (supervisor, action, details) => {\n    const log = {\n      timestamp: new Date().toLocaleString(\"pt-BR\"),\n      supervisor,\n      action,\n      details\n    };\n    setAuthorizationLog(prev => [log, ...prev]);\n    console.log(\"Autoriza√ß√£o registrada:\", log);\n  };\n  const addToCart = (product, weight) => {\n    if (product.requiresWeight && !weight) {\n      setSelectedProductForWeight(product);\n      setShowWeightDialog(true);\n      return;\n    }\n    const finalWeight = weight || 1;\n    const totalPrice = product.requiresWeight ? product.price * finalWeight : product.price;\n    setCart(prev => {\n      const existingItemIndex = prev.findIndex(item => item.id === product.id && (!product.requiresWeight || item.weight === finalWeight));\n      if (existingItemIndex >= 0 && !product.requiresWeight) {\n        // Para produtos normais, aumentar quantidade\n        return prev.map((item, index) => index === existingItemIndex ? {\n          ...item,\n          quantity: item.quantity + 1,\n          totalPrice: item.totalPrice + product.price\n        } : item);\n      } else {\n        // Para produtos por peso ou novos produtos\n        const newItem = {\n          ...product,\n          quantity: 1,\n          weight: finalWeight,\n          totalPrice: totalPrice\n        };\n        return [...prev, newItem];\n      }\n    });\n\n    // Esconder lista ap√≥s adicionar produto\n    setShowProductList(false);\n    setSearchTerm(\"\");\n  };\n  const handleWeightConfirm = weight => {\n    if (selectedProductForWeight) {\n      addToCart(selectedProductForWeight, weight);\n      setSelectedProductForWeight(null);\n    }\n  };\n  const updateQuantity = (id, quantity, weight) => {\n    if (quantity <= 0) {\n      const item = cart.find(item => item.id === id && (!weight || item.weight === weight));\n      requestAuthorization({\n        type: \"remove-item\",\n        title: \"Remover Item\",\n        description: `Remover \"${item === null || item === void 0 ? void 0 : item.name}\" do carrinho. Esta a√ß√£o requer autoriza√ß√£o do fiscal.`,\n        action: () => removeFromCartDirect(id, weight),\n        itemId: id\n      });\n      return;\n    }\n    setCart(prev => prev.map(item => {\n      if (item.id === id && (!weight || item.weight === weight)) {\n        const newTotalPrice = item.requiresWeight ? item.price * (item.weight || 1) * quantity : item.price * quantity;\n        return {\n          ...item,\n          quantity,\n          totalPrice: newTotalPrice\n        };\n      }\n      return item;\n    }));\n  };\n  const removeFromCart = (id, weight) => {\n    const item = cart.find(item => item.id === id && (!weight || item.weight === weight));\n    requestAuthorization({\n      type: \"remove-item\",\n      title: \"Remover Item\",\n      description: `Remover \"${item === null || item === void 0 ? void 0 : item.name}\" do carrinho. Esta a√ß√£o requer autoriza√ß√£o do fiscal.`,\n      action: () => removeFromCartDirect(id, weight),\n      itemId: id\n    });\n  };\n  const removeFromCartDirect = (id, weight) => {\n    const item = cart.find(item => item.id === id && (!weight || item.weight === weight));\n    setCart(prev => prev.filter(item => !(item.id === id && (!weight || item.weight === weight))));\n    if (selectedCartIndex >= 0) {\n      setSelectedCartIndex(-1);\n    }\n    return (item === null || item === void 0 ? void 0 : item.name) || \"Item\";\n  };\n  const subtotal = cart.reduce((sum, item) => sum + item.totalPrice, 0);\n\n  // Calcular desconto baseado no tipo\n  const discountAmount = discountType === \"percentage\" ? subtotal * discount / 100 : Math.min(discountValue, subtotal); // N√£o pode ser maior que o subtotal\n\n  const total = subtotal - discountAmount;\n  const handleBarcodeSearch = () => {\n    const product = products.find(p => p.barcode === barcode);\n    if (product) {\n      addToCart(product);\n      setBarcode(\"\");\n    }\n  };\n  const handleSearchKeyPress = e => {\n    if (e.key === \"Enter\" && filteredProducts.length === 1) {\n      addToCart(filteredProducts[0]);\n      setSearchTerm(\"\");\n    }\n  };\n  const requestAuthorization = request => {\n    setAuthorizationRequest(request);\n  };\n  const handleAuthorization = supervisor => {\n    if (authorizationRequest) {\n      let details = \"\";\n      let actionName = \"\";\n      if (authorizationRequest.type === \"discount\") {\n        actionName = \"Aplicar Desconto\";\n        if (discountType === \"percentage\") {\n          details = `Desconto de ${tempDiscount}% aplicado. Valor: R$ ${(subtotal * tempDiscount / 100).toFixed(2)}`;\n        } else {\n          details = `Desconto de R$ ${tempDiscountValue.toFixed(2)} aplicado`;\n        }\n      } else if (authorizationRequest.type === \"clear-cart\") {\n        actionName = \"Limpar Carrinho\";\n        details = `Carrinho com ${cart.length} itens limpo. Valor total: R$ ${total.toFixed(2)}`;\n      } else if (authorizationRequest.type === \"remove-item\") {\n        const itemName = removeFromCartDirect(authorizationRequest.itemId);\n        actionName = \"Remover Item\";\n        details = `Item \"${itemName}\" removido do carrinho`;\n        setAuthorizationRequest(null);\n        logAuthorization(supervisor, actionName, details);\n        return;\n      }\n      authorizationRequest.action();\n      logAuthorization(supervisor, actionName, details);\n      setAuthorizationRequest(null);\n    }\n  };\n  const clearCart = () => {\n    if (cart.length === 0) return;\n    requestAuthorization({\n      type: \"clear-cart\",\n      title: \"Limpar Carrinho\",\n      description: `Limpar carrinho com ${cart.length} itens (Total: R$ ${total.toFixed(2)}). Esta a√ß√£o requer autoriza√ß√£o do fiscal.`,\n      action: () => clearCartDirect()\n    });\n  };\n  const clearCartDirect = () => {\n    setCart([]);\n    setDiscount(0);\n    setTempDiscount(0);\n    setDiscountValue(0);\n    setTempDiscountValue(0);\n    setPaymentMethod(null);\n    setSelectedCartIndex(-1);\n    setPixPaymentConfirmed(false);\n    setSelectedCardType(\"\");\n    setMixedPayments([]);\n  };\n  const handleDiscountChange = (value, type) => {\n    if (type === \"percentage\") {\n      setTempDiscount(value);\n      if (value > discount) {\n        requestAuthorization({\n          type: \"discount\",\n          title: \"Aplicar Desconto\",\n          description: `Aplicar desconto de ${value}% (R$ ${(subtotal * value / 100).toFixed(2)}). Esta a√ß√£o requer autoriza√ß√£o do fiscal.`,\n          action: () => applyDiscount(value, type)\n        });\n      } else {\n        setDiscount(value);\n      }\n    } else {\n      setTempDiscountValue(value);\n      if (value > discountValue) {\n        requestAuthorization({\n          type: \"discount\",\n          title: \"Aplicar Desconto\",\n          description: `Aplicar desconto de R$ ${value.toFixed(2)}. Esta a√ß√£o requer autoriza√ß√£o do fiscal.`,\n          action: () => applyDiscount(value, type)\n        });\n      } else {\n        setDiscountValue(value);\n      }\n    }\n  };\n  const applyDiscount = (value, type) => {\n    if (type === \"percentage\") {\n      setDiscount(value);\n    } else {\n      setDiscountValue(value);\n    }\n  };\n  const hasPermission = (module, action) => {\n    if (!currentUser) return false;\n    if (currentUser.role === \"admin\") return true;\n    const permission = currentUser.permissions.find(p => p.module === module);\n    return (permission === null || permission === void 0 ? void 0 : permission.actions.includes(action)) || (permission === null || permission === void 0 ? void 0 : permission.actions.includes(\"*\"));\n  };\n  const completeSale = (receivedAmount, changeAmount, receiptType) => {\n    // ADICIONAR verifica√ß√£o para evitar venda com carrinho vazio\n    if (cart.length === 0) {\n      alert(\"N√£o √© poss√≠vel finalizar venda com carrinho vazio!\");\n      return;\n    }\n\n    // ADICIONAR verifica√ß√£o para evitar venda com total zero\n    if (total <= 0) {\n      alert(\"N√£o √© poss√≠vel finalizar venda com valor zero!\");\n      return;\n    }\n    if (!receiptType && currentUser) {\n      const userPermissions = receiptConfig.rolePermissions[currentUser.role];\n      if (userPermissions !== null && userPermissions !== void 0 && userPermissions.canChoose) {\n        setShowReceiptSelection(true);\n        return;\n      } else {\n        receiptType = (userPermissions === null || userPermissions === void 0 ? void 0 : userPermissions.defaultType) || \"receipt\";\n      }\n    }\n    let message = `Venda finalizada!\\nTotal: R$ ${total.toFixed(2)}`;\n\n    // Adicionar informa√ß√µes do comprovante\n    if (receiptType === \"fiscal\") {\n      message += `\\nüìÑ Cupom Fiscal emitido`;\n    } else if (receiptType === \"receipt\") {\n      message += `\\nüìã Recibo simples emitido`;\n    } else if (receiptType === \"both\") {\n      message += `\\nüìÑ Cupom Fiscal emitido\\nüìã Recibo simples emitido`;\n    }\n    if (mixedPayments.length > 0) {\n      message += `\\nPagamento Misto:`;\n      mixedPayments.forEach(payment => {\n        message += `\\n- ${payment.name}: R$ ${payment.amount.toFixed(2)}`;\n        if (payment.type === \"pix\") {\n          message += \" (PIX Confirmado)\";\n        }\n      });\n    } else if (paymentMethod) {\n      let paymentName = paymentMethod;\n      if (paymentMethod === \"cartao\" && selectedCardType) {\n        paymentName = `Cart√£o ${selectedCardType}`;\n      }\n      message += `\\nPagamento: ${paymentName}`;\n    }\n    if (paymentMethod === \"dinheiro\" && receivedAmount && changeAmount !== undefined) {\n      message += `\\nRecebido: R$ ${receivedAmount.toFixed(2)}`;\n      if (changeAmount > 0) {\n        message += `\\nTroco: R$ ${changeAmount.toFixed(2)}`;\n      } else {\n        message += `\\nTroco: Valor exato`;\n      }\n    }\n    alert(message);\n    clearCartDirect();\n  };\n  const finalizeSale = () => {\n    // ADICIONAR verifica√ß√µes antes de finalizar\n    if (cart.length === 0) {\n      alert(\"Adicione produtos ao carrinho antes de finalizar a venda!\");\n      return;\n    }\n    if (total <= 0) {\n      alert(\"O valor total deve ser maior que zero!\");\n      return;\n    }\n    if (!paymentMethod && mixedPayments.length === 0) {\n      alert(\"Selecione uma forma de pagamento!\");\n      return;\n    }\n    if (paymentMethod === \"dinheiro\") {\n      setShowCashPayment(true);\n      return;\n    }\n    if (paymentMethod === \"pix\") {\n      if (!pixPaymentConfirmed) {\n        setShowPixPayment(true);\n        return;\n      }\n    }\n    if (paymentMethod === \"cartao\" && !selectedCardType) {\n      setShowCardSelection(true);\n      return;\n    }\n\n    // Para cart√£o e PIX confirmado, finalizar diretamente\n    completeSale();\n  };\n  const focusSearchInput = () => {\n    var _searchInputRef$curre;\n    (_searchInputRef$curre = searchInputRef.current) === null || _searchInputRef$curre === void 0 ? void 0 : _searchInputRef$curre.focus();\n  };\n  const focusBarcodeInput = () => {\n    var _barcodeInputRef$curr;\n    (_barcodeInputRef$curr = barcodeInputRef.current) === null || _barcodeInputRef$curr === void 0 ? void 0 : _barcodeInputRef$curr.focus();\n  };\n  const focusDiscountInput = () => {\n    if (discountType === \"percentage\") {\n      var _discountInputRef$cur;\n      (_discountInputRef$cur = discountInputRef.current) === null || _discountInputRef$cur === void 0 ? void 0 : _discountInputRef$cur.focus();\n    } else {\n      var _discountValueInputRe;\n      (_discountValueInputRe = discountValueInputRef.current) === null || _discountValueInputRe === void 0 ? void 0 : _discountValueInputRe.focus();\n    }\n  };\n  const removeSelectedCartItem = () => {\n    if (selectedCartIndex >= 0 && selectedCartIndex < cart.length) {\n      const item = cart[selectedCartIndex];\n      removeFromCart(item.id, item.weight);\n    }\n  };\n  const increaseSelectedCartItem = () => {\n    if (selectedCartIndex >= 0 && selectedCartIndex < cart.length) {\n      const item = cart[selectedCartIndex];\n      updateQuantity(item.id, item.quantity + 1, item.weight);\n    }\n  };\n  const decreaseSelectedCartItem = () => {\n    if (selectedCartIndex >= 0 && selectedCartIndex < cart.length) {\n      const item = cart[selectedCartIndex];\n      updateQuantity(item.id, item.quantity - 1, item.weight);\n    }\n  };\n  const navigateCart = direction => {\n    if (cart.length === 0) return;\n    if (direction === \"up\") {\n      setSelectedCartIndex(prev => prev <= 0 ? cart.length - 1 : prev - 1);\n    } else {\n      setSelectedCartIndex(prev => prev >= cart.length - 1 ? 0 : prev + 1);\n    }\n  };\n  const navigateToScreen = screen => {\n    if (screen === \"cadastro\" && !hasPermission(\"products\", \"manage\")) {\n      alert(\"Acesso negado. Voc√™ n√£o tem permiss√£o para acessar o cadastro de produtos.\");\n      return;\n    }\n    if (screen === \"etiquetas\" && !hasPermission(\"labels\", \"config\")) {\n      alert(\"Acesso negado. Voc√™ n√£o tem permiss√£o para acessar as etiquetas.\");\n      return;\n    }\n    setCurrentScreen(screen);\n  };\n\n  // Definir atalhos de teclado\n  const shortcuts = useKeyboardShortcuts([{\n    key: \"F1\",\n    action: finalizeSale,\n    description: \"Finalizar Venda\"\n  }, {\n    key: \"F2\",\n    action: clearCart,\n    description: \"Limpar Carrinho\"\n  }, {\n    key: \"F3\",\n    action: () => setPaymentMethod(\"dinheiro\"),\n    description: \"Pagamento em Dinheiro\"\n  }, {\n    key: \"F4\",\n    action: () => setPaymentMethod(\"cartao\"),\n    description: \"Pagamento no Cart√£o\"\n  }, {\n    key: \"F5\",\n    action: () => setPaymentMethod(\"pix\"),\n    description: \"Pagamento via PIX\"\n  }, {\n    key: \"F6\",\n    action: () => setCurrentScreen(\"historico\"),\n    description: \"Hist√≥rico de Vendas\"\n  }, {\n    key: \"F7\",\n    action: focusDiscountInput,\n    description: \"Aplicar Desconto\"\n  }, {\n    key: \"F8\",\n    action: focusSearchInput,\n    description: \"Buscar Produto\"\n  }, {\n    key: \"F9\",\n    action: focusBarcodeInput,\n    description: \"C√≥digo de Barras\"\n  }, {\n    key: \"F10\",\n    action: handleBarcodeSearch,\n    description: \"Adicionar por C√≥digo\"\n  }, {\n    key: \"Delete\",\n    action: removeSelectedCartItem,\n    description: \"Remover Item Selecionado\"\n  }, {\n    key: \"ArrowUp\",\n    action: () => navigateCart(\"up\"),\n    description: \"Navegar Carrinho (Cima)\"\n  }, {\n    key: \"ArrowDown\",\n    action: () => navigateCart(\"down\"),\n    description: \"Navegar Carrinho (Baixo)\"\n  }, {\n    key: \"+\",\n    action: increaseSelectedCartItem,\n    description: \"Aumentar Quantidade\"\n  }, {\n    key: \"-\",\n    action: decreaseSelectedCartItem,\n    description: \"Diminuir Quantidade\"\n  }]);\n  const openMixedPayment = () => {\n    setShowMixedPayment(true);\n  };\n\n  // Renderizar telas diferentes\n  if (currentScreen === \"historico\") {\n    return /*#__PURE__*/_jsxDEV(HistoricoVendas, {\n      onBack: () => setCurrentScreen(\"pdv\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 778,\n      columnNumber: 12\n    }, this);\n  }\n  if (currentScreen === \"cadastro\") {\n    return /*#__PURE__*/_jsxDEV(CadastroProdutos, {\n      onBack: () => setCurrentScreen(\"pdv\"),\n      products: products,\n      onUpdateProducts: setProducts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 7\n    }, this);\n  }\n  if (currentScreen === \"etiquetas\") {\n    return /*#__PURE__*/_jsxDEV(EtiquetasPreco, {\n      onBack: () => setCurrentScreen(\"pdv\"),\n      products: products\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 793,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen bg-gray-50 flex flex-col overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-shrink-0 p-4 border-b bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl md:text-3xl font-bold text-gray-900\",\n            children: \"Sistema PDV - Caixa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Ponto de Venda\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(KeyboardShortcutsHelp, {\n            shortcuts: shortcuts\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 812,\n            columnNumber: 13\n          }, this), hasPermission(\"labels\", \"config\") && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setShowLabelConfig(true),\n            variant: \"outline\",\n            size: \"sm\",\n            children: [/*#__PURE__*/_jsxDEV(Settings, {\n              className: \"w-4 h-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 819,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"Config. Etiquetas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 820,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 814,\n            columnNumber: 15\n          }, this), hasPermission(\"cash\", \"manage\") && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              setCashAction(cashSession ? \"close\" : \"open\");\n              setShowCashManagement(true);\n            },\n            variant: \"outline\",\n            size: \"sm\",\n            children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n              className: \"w-4 h-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 832,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: cashSession ? \"Fechar Caixa\" : \"Abrir Caixa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 833,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => navigateToScreen(\"cadastro\"),\n            variant: \"outline\",\n            size: \"sm\",\n            children: [/*#__PURE__*/_jsxDEV(Package, {\n              className: \"w-4 h-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"Produtos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 844,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 838,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => navigateToScreen(\"etiquetas\"),\n            variant: \"outline\",\n            size: \"sm\",\n            children: [/*#__PURE__*/_jsxDEV(Tag, {\n              className: \"w-4 h-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"Etiquetas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 852,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setCurrentScreen(\"historico\"),\n            variant: \"outline\",\n            size: \"sm\",\n            children: [/*#__PURE__*/_jsxDEV(History, {\n              className: \"w-4 h-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"Hist\\xF3rico (F6)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sm:hidden\",\n              children: \"F6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 861,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 811,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 803,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 p-4 overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto h-full\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-3 gap-4 h-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lg:col-span-2 flex flex-col min-h-0\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"flex-1 flex flex-col min-h-0\",\n              children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                className: \"flex-shrink-0 pb-4\",\n                children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                  className: \"flex items-center gap-2 text-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(Search, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 876,\n                    columnNumber: 21\n                  }, this), \"Produtos\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 875,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: \"search\",\n                      className: \"text-sm\",\n                      children: \"Buscar produto (F8)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 881,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      ref: searchInputRef,\n                      id: \"search\",\n                      placeholder: \"Nome do produto ou c\\xF3digo de barras...\",\n                      value: searchTerm,\n                      onChange: e => setSearchTerm(e.target.value),\n                      onKeyPress: handleSearchKeyPress,\n                      className: \"mt-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 884,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 880,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Input, {\n                      ref: barcodeInputRef,\n                      placeholder: \"C\\xF3digo de barras (F9)\",\n                      value: barcode,\n                      onChange: e => setBarcode(e.target.value),\n                      onKeyPress: e => e.key === \"Enter\" && handleBarcodeSearch(),\n                      className: \"flex-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 895,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: handleBarcodeSearch,\n                      title: \"F10\",\n                      size: \"sm\",\n                      children: /*#__PURE__*/_jsxDEV(Plus, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 910,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 905,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 894,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 879,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 874,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                className: \"flex-1 flex flex-col min-h-0 relative\",\n                children: [showProductList && searchTerm && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 z-10 bg-white border rounded-lg shadow-lg\",\n                  children: /*#__PURE__*/_jsxDEV(ScrollArea, {\n                    className: \"h-full p-2\",\n                    children: filteredProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-500 text-center py-8\",\n                      children: \"Nenhum produto encontrado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 922,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-2\",\n                      children: filteredProducts.map(product => /*#__PURE__*/_jsxDEV(Card, {\n                        className: \"cursor-pointer hover:shadow-md transition-shadow p-3\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-between items-center\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex-1\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex items-center gap-2\",\n                              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                                className: \"font-semibold text-sm\",\n                                children: product.name\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 935,\n                                columnNumber: 39\n                              }, this), product.requiresWeight && /*#__PURE__*/_jsxDEV(Scale, {\n                                className: \"w-3 h-3 text-orange-600\",\n                                title: \"Produto por peso\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 939,\n                                columnNumber: 41\n                              }, this), product.icms && /*#__PURE__*/_jsxDEV(Badge, {\n                                variant: \"outline\",\n                                className: \"text-xs\",\n                                children: [\"ICMS \", product.icms, \"%\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 945,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 934,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex items-center gap-2 mt-1\",\n                              children: [/*#__PURE__*/_jsxDEV(Badge, {\n                                variant: \"secondary\",\n                                className: \"text-xs\",\n                                children: product.category\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 954,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-xs text-gray-500\",\n                                children: product.barcode\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 960,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-xs text-blue-600\",\n                                children: product.requiresWeight ? `R$ ${product.price.toFixed(2)}/kg` : `R$ ${product.price.toFixed(2)}/${product.unit}`\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 963,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 953,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 933,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-right\",\n                            children: /*#__PURE__*/_jsxDEV(Button, {\n                              onClick: () => addToCart(product),\n                              size: \"sm\",\n                              className: \"mt-1\",\n                              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                                className: \"w-3 h-3 mr-1\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 978,\n                                columnNumber: 39\n                              }, this), \"Add\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 973,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 972,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 932,\n                          columnNumber: 33\n                        }, this)\n                      }, product.id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 928,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 926,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 920,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 919,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center p-8 border-2 border-dashed border-gray-200 rounded-lg bg-gray-50 max-w-md\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-32 h-32 mx-auto mb-4 bg-gray-200 rounded-lg flex items-center justify-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-gray-400 text-sm\",\n                        children: \"LOGO\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 995,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 994,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-lg font-semibold text-gray-700 mb-2\",\n                      children: \"Sua Empresa\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 997,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500\",\n                      children: \"Use F8 para buscar produtos ou F9 para c\\xF3digo de barras\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1000,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 993,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 992,\n                  columnNumber: 19\n                }, this), paymentMethod === \"pix\" && total > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute bottom-4 right-4 p-4 border rounded-lg bg-white shadow-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-semibold mb-3 text-center text-sm\",\n                    children: \"QR Code PIX\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1009,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-col items-center space-y-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-32 h-32 bg-white border-2 border-gray-300 rounded-lg flex items-center justify-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-center text-gray-500\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs\",\n                          children: \"QR Code PIX\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1015,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs mt-1\",\n                          children: [\"R$ \", total.toFixed(2)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1016,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1014,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1013,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-600 text-center max-w-32\",\n                      children: \"Escaneie para pagar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1021,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1012,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1008,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 916,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 873,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 872,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col min-h-0\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"flex-1 flex flex-col min-h-0\",\n              children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                className: \"flex-shrink-0 pb-3\",\n                children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                  className: \"flex items-center gap-2 text-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1036,\n                    columnNumber: 21\n                  }, this), \"Carrinho (\", cart.length, \" itens)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1035,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1034,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                className: \"flex-1 flex flex-col min-h-0 space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 min-h-0\",\n                  children: /*#__PURE__*/_jsxDEV(ScrollArea, {\n                    className: \"h-full\",\n                    children: cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-center h-32\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-gray-500 text-center\",\n                        children: \"Carrinho vazio\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1047,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1046,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-2 pr-2\",\n                      children: cart.map((item, index) => {\n                        var _item$weight;\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `flex items-center gap-2 p-2 border rounded cursor-pointer transition-colors ${selectedCartIndex === index ? \"bg-blue-50 border-blue-300\" : \"hover:bg-gray-50\"}`,\n                          onClick: () => setSelectedCartIndex(index),\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex-1 min-w-0\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex items-center gap-1\",\n                              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                                className: \"font-medium text-sm truncate\",\n                                children: item.name\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1065,\n                                columnNumber: 35\n                              }, this), item.requiresWeight && /*#__PURE__*/_jsxDEV(Scale, {\n                                className: \"w-3 h-3 text-orange-600\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1069,\n                                columnNumber: 37\n                              }, this), item.icms && /*#__PURE__*/_jsxDEV(Badge, {\n                                variant: \"outline\",\n                                className: \"text-xs\",\n                                children: [\"ICMS \", item.icms, \"%\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1072,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1064,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs text-gray-500\",\n                              children: item.requiresWeight ? /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: [(_item$weight = item.weight) === null || _item$weight === void 0 ? void 0 : _item$weight.toFixed(3), \" kg \\xD7 R$\", \" \", item.price.toFixed(2), \"/kg\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1082,\n                                columnNumber: 37\n                              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: [\"R$ \", item.price.toFixed(2), \"/\", item.unit]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1087,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1080,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-xs font-semibold text-green-600\",\n                              children: [\"Total: R$ \", item.totalPrice.toFixed(2)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1092,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1063,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center gap-1\",\n                            children: [/*#__PURE__*/_jsxDEV(Button, {\n                              size: \"sm\",\n                              variant: \"outline\",\n                              onClick: e => {\n                                e.stopPropagation();\n                                updateQuantity(item.id, item.quantity - 1, item.weight);\n                              },\n                              className: \"h-6 w-6 p-0\",\n                              children: /*#__PURE__*/_jsxDEV(Minus, {\n                                className: \"w-3 h-3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1110,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1097,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"w-6 text-center text-sm\",\n                              children: item.quantity\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1112,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(Button, {\n                              size: \"sm\",\n                              variant: \"outline\",\n                              onClick: e => {\n                                e.stopPropagation();\n                                updateQuantity(item.id, item.quantity + 1, item.weight);\n                              },\n                              className: \"h-6 w-6 p-0\",\n                              children: /*#__PURE__*/_jsxDEV(Plus, {\n                                className: \"w-3 h-3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1128,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1115,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1096,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            variant: \"destructive\",\n                            onClick: e => {\n                              e.stopPropagation();\n                              removeFromCart(item.id, item.weight);\n                            },\n                            title: \"Requer cart\\xE3o de autoriza\\xE7\\xE3o\",\n                            className: \"h-6 w-6 p-0\",\n                            children: /*#__PURE__*/_jsxDEV(Shield, {\n                              className: \"w-3 h-3\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1141,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1131,\n                            columnNumber: 31\n                          }, this)]\n                        }, `${item.id}-${item.weight || \"unit\"}`, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1054,\n                          columnNumber: 29\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1052,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1044,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1043,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1150,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [discountType === \"percentage\" ? /*#__PURE__*/_jsxDEV(Percent, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1156,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(DollarSign, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1158,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Label, {\n                      className: \"text-sm\",\n                      children: \"Desconto (F7)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1160,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Shield, {\n                      className: \"w-4 h-4 text-orange-600\",\n                      title: \"Requer cart\\xE3o de autoriza\\xE7\\xE3o\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1161,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1154,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      variant: discountType === \"percentage\" ? \"default\" : \"outline\",\n                      onClick: () => setDiscountType(\"percentage\"),\n                      className: \"flex-1 h-6 text-xs\",\n                      children: [/*#__PURE__*/_jsxDEV(Percent, {\n                        className: \"w-3 h-3 mr-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1177,\n                        columnNumber: 25\n                      }, this), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1169,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      variant: discountType === \"value\" ? \"default\" : \"outline\",\n                      onClick: () => setDiscountType(\"value\"),\n                      className: \"flex-1 h-6 text-xs\",\n                      children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                        className: \"w-3 h-3 mr-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1187,\n                        columnNumber: 25\n                      }, this), \"R$\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1179,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1168,\n                    columnNumber: 21\n                  }, this), discountType === \"percentage\" ? /*#__PURE__*/_jsxDEV(Input, {\n                    ref: discountInputRef,\n                    type: \"number\",\n                    min: \"0\",\n                    max: \"100\",\n                    value: tempDiscount,\n                    onChange: e => {\n                      const value = Number(e.target.value);\n                      setTempDiscount(value);\n                    },\n                    onBlur: e => {\n                      const value = Number(e.target.value);\n                      if (value !== discount) {\n                        handleDiscountChange(value, \"percentage\");\n                      }\n                    },\n                    onKeyPress: e => {\n                      if (e.key === \"Enter\") {\n                        const value = Number(e.target.value);\n                        if (value !== discount) {\n                          handleDiscountChange(value, \"percentage\");\n                        }\n                      }\n                    },\n                    placeholder: \"0\",\n                    className: \"h-8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1193,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(Input, {\n                    ref: discountValueInputRef,\n                    type: \"number\",\n                    min: \"0\",\n                    max: subtotal,\n                    step: \"0.01\",\n                    value: tempDiscountValue,\n                    onChange: e => {\n                      const value = Number(e.target.value);\n                      setTempDiscountValue(value);\n                    },\n                    onBlur: e => {\n                      const value = Number(e.target.value);\n                      if (value !== discountValue) {\n                        handleDiscountChange(value, \"value\");\n                      }\n                    },\n                    onKeyPress: e => {\n                      if (e.key === \"Enter\") {\n                        const value = Number(e.target.value);\n                        if (value !== discountValue) {\n                          handleDiscountChange(value, \"value\");\n                        }\n                      }\n                    },\n                    placeholder: \"0,00\",\n                    className: \"h-8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1221,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1153,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1252,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-1 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Subtotal:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1257,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"R$ \", subtotal.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1258,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1256,\n                    columnNumber: 21\n                  }, this), discountAmount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between text-red-600\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"Desconto (\", discountType === \"percentage\" ? `${discount}%` : `R$ ${discountValue.toFixed(2)}`, \"):\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1262,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"-R$ \", discountAmount.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1269,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1261,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1272,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between font-bold text-base\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Total:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1274,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-green-600\",\n                      children: [\"R$ \", total.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1275,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1273,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1255,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1281,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    className: \"text-sm\",\n                    children: \"Forma de Pagamento\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1285,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-3 gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: paymentMethod === \"dinheiro\" ? \"default\" : \"outline\",\n                      onClick: () => {\n                        setPaymentMethod(\"dinheiro\");\n                        setPixPaymentConfirmed(false);\n                        setSelectedCardType(\"\");\n                      },\n                      className: \"flex items-center gap-1 text-xs h-8\",\n                      title: \"F3\",\n                      children: [/*#__PURE__*/_jsxDEV(Banknote, {\n                        className: \"w-3 h-3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1299,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"hidden sm:inline\",\n                        children: \"Dinheiro\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1300,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"sm:hidden\",\n                        children: \"$\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1301,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1287,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: paymentMethod === \"cartao\" ? \"default\" : \"outline\",\n                      onClick: () => {\n                        setPaymentMethod(\"cartao\");\n                        setPixPaymentConfirmed(false);\n                        setShowCardSelection(true);\n                      },\n                      className: \"flex items-center gap-1 text-xs h-8\",\n                      title: \"F4\",\n                      children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n                        className: \"w-3 h-3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1315,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"hidden sm:inline\",\n                        children: \"Cart\\xE3o\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1316,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"sm:hidden\",\n                        children: \"\\uD83D\\uDCB3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1317,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1303,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: paymentMethod === \"pix\" ? \"default\" : \"outline\",\n                      onClick: () => {\n                        setPaymentMethod(\"pix\");\n                        setPixPaymentConfirmed(false);\n                        setSelectedCardType(\"\");\n                      },\n                      className: \"flex items-center gap-1 text-xs h-8\",\n                      title: \"F5\",\n                      children: [/*#__PURE__*/_jsxDEV(QrCode, {\n                        className: \"w-3 h-3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1331,\n                        columnNumber: 25\n                      }, this), \"PIX\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1319,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1286,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline\",\n                    onClick: openMixedPayment,\n                    className: \"w-full h-8 text-xs bg-transparent\",\n                    children: [/*#__PURE__*/_jsxDEV(Calculator, {\n                      className: \"w-3 h-3 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1342,\n                      columnNumber: 23\n                    }, this), \"Pagamento Misto\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1337,\n                    columnNumber: 21\n                  }, this), paymentMethod === \"cartao\" && selectedCardType && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center p-1 bg-blue-50 rounded text-xs\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-blue-600\",\n                      children: [\"Cart\\xE3o: \", selectedCardType]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1349,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1348,\n                    columnNumber: 23\n                  }, this), paymentMethod === \"pix\" && pixPaymentConfirmed && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center p-1 bg-green-50 rounded text-xs\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-green-600\",\n                      children: \"\\u2705 PIX Confirmado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1357,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1356,\n                    columnNumber: 23\n                  }, this), mixedPayments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"text-xs\",\n                      children: \"Pagamentos:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1365,\n                      columnNumber: 25\n                    }, this), mixedPayments.map((payment, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center p-1 bg-gray-50 rounded text-xs\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: payment.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1371,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-semibold\",\n                        children: [\"R$ \", payment.amount.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1372,\n                        columnNumber: 29\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1367,\n                      columnNumber: 27\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1364,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1284,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1381,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: finalizeSale,\n                    disabled: cart.length === 0 || total <= 0 || !paymentMethod && mixedPayments.length === 0 || paymentMethod === \"pix\" && !pixPaymentConfirmed,\n                    className: \"w-full h-10\",\n                    title: \"F1\",\n                    children: [/*#__PURE__*/_jsxDEV(Calculator, {\n                      className: \"w-4 h-4 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1396,\n                      columnNumber: 23\n                    }, this), \"Finalizar Venda (F1)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1385,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: clearCart,\n                    variant: \"outline\",\n                    className: \"w-full h-8 text-xs bg-transparent\",\n                    title: \"F2\",\n                    children: [/*#__PURE__*/_jsxDEV(Shield, {\n                      className: \"w-3 h-3 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1405,\n                      columnNumber: 23\n                    }, this), \"Limpar Carrinho (F2)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1399,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1384,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1041,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1032,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 870,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 869,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 868,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AuthorizationDialog, {\n      open: !!authorizationRequest,\n      onOpenChange: open => !open && setAuthorizationRequest(null),\n      title: (authorizationRequest === null || authorizationRequest === void 0 ? void 0 : authorizationRequest.title) || \"\",\n      description: (authorizationRequest === null || authorizationRequest === void 0 ? void 0 : authorizationRequest.description) || \"\",\n      onAuthorize: handleAuthorization\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1417,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CashPaymentDialog, {\n      open: showCashPayment,\n      onOpenChange: setShowCashPayment,\n      totalAmount: total,\n      onConfirm: (received, change) => completeSale(received, change)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1425,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PixPaymentDialog, {\n      open: showPixPayment,\n      onOpenChange: setShowPixPayment,\n      amount: total,\n      onPaymentConfirmed: () => setPixPaymentConfirmed(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1432,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardPaymentDialog, {\n      open: showCardSelection,\n      onOpenChange: setShowCardSelection,\n      onSelectCardType: setSelectedCardType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1439,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MixedPaymentDialog, {\n      open: showMixedPayment,\n      onOpenChange: setShowMixedPayment,\n      totalAmount: total,\n      onConfirm: payments => {\n        setMixedPayments(payments);\n        setPaymentMethod(null);\n      },\n      onRequestAuthorization: requestAuthorization\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1445,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(WeightInputDialog, {\n      open: showWeightDialog,\n      onOpenChange: setShowWeightDialog,\n      product: selectedProductForWeight,\n      onConfirm: handleWeightConfirm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1456,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoginDialog, {\n      open: showLogin,\n      onLogin: user => {\n        setCurrentUser(user);\n        setShowLogin(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1464,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LabelConfigDialog, {\n      open: showLabelConfig,\n      onOpenChange: setShowLabelConfig,\n      currentTemplate: labelTemplate,\n      onSave: setLabelTemplate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1473,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReceiptConfigDialog, {\n      open: showReceiptConfig,\n      onOpenChange: setShowReceiptConfig,\n      config: receiptConfig,\n      onSave: setReceiptConfig\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1481,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CashManagementDialog, {\n      open: showCashManagement,\n      onOpenChange: setShowCashManagement,\n      action: cashAction,\n      currentSession: cashSession,\n      onConfirm: amount => {\n        if (cashAction === \"open\") {\n          setCashSession({\n            id: Date.now().toString(),\n            openedBy: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || \"Usu√°rio\",\n            openedAt: new Date().toISOString(),\n            initialAmount: amount,\n            totalSales: 0,\n            totalTransactions: 0,\n            status: \"open\"\n          });\n        } else {\n          setCashSession(null);\n        }\n        setShowCashManagement(false);\n      },\n      userName: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) || \"Usu√°rio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1489,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReceiptSelectionDialog, {\n      open: showReceiptSelection,\n      onOpenChange: setShowReceiptSelection,\n      onSelect: type => completeSale(undefined, undefined, type),\n      canChoose: currentUser ? ((_receiptConfig$rolePe = receiptConfig.rolePermissions[currentUser.role]) === null || _receiptConfig$rolePe === void 0 ? void 0 : _receiptConfig$rolePe.canChoose) || false : false,\n      defaultType: currentUser ? ((_receiptConfig$rolePe2 = receiptConfig.rolePermissions[currentUser.role]) === null || _receiptConfig$rolePe2 === void 0 ? void 0 : _receiptConfig$rolePe2.defaultType) || \"receipt\" : \"receipt\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1514,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 801,\n    columnNumber: 5\n  }, this);\n}\n_s(PDVCaixa, \"WfV6fHaOvGOZjtfVUdf8pcWce4U=\", false, function () {\n  return [useKeyboardShortcuts];\n});\n_c = PDVCaixa;\nvar _c;\n$RefreshReg$(_c, \"PDVCaixa\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Button","Card","CardContent","CardHeader","CardTitle","Input","Label","Separator","ScrollArea","ShoppingCart","Plus","Minus","Search","CreditCard","Banknote","Percent","Calculator","QrCode","History","Shield","Scale","DollarSign","Package","Tag","Settings","HistoricoVendas","CadastroProdutos","EtiquetasPreco","Badge","useKeyboardShortcuts","KeyboardShortcutsHelp","AuthorizationDialog","CashPaymentDialog","PixPaymentDialog","CardPaymentDialog","MixedPaymentDialog","WeightInputDialog","LoginDialog","LabelConfigDialog","ReceiptConfigDialog","CashManagementDialog","ReceiptSelectionDialog","jsxDEV","_jsxDEV","initialProducts","id","name","price","category","barcode","unit","icms","quantity","measureUnit","requiresWeight","PDVCaixa","_s","_receiptConfig$rolePe","_receiptConfig$rolePe2","products","setProducts","cart","setCart","searchTerm","setSearchTerm","setBarcode","discount","setDiscount","tempDiscount","setTempDiscount","discountType","setDiscountType","discountValue","setDiscountValue","tempDiscountValue","setTempDiscountValue","paymentMethod","setPaymentMethod","currentScreen","setCurrentScreen","selectedCartIndex","setSelectedCartIndex","authorizationRequest","setAuthorizationRequest","authorizationLog","setAuthorizationLog","showCashPayment","setShowCashPayment","showPixPayment","setShowPixPayment","showCardSelection","setShowCardSelection","showMixedPayment","setShowMixedPayment","pixPaymentConfirmed","setPixPaymentConfirmed","selectedCardType","setSelectedCardType","mixedPayments","setMixedPayments","showProductList","setShowProductList","showWeightDialog","setShowWeightDialog","selectedProductForWeight","setSelectedProductForWeight","currentUser","setCurrentUser","showLogin","setShowLogin","showLabelConfig","setShowLabelConfig","showReceiptConfig","setShowReceiptConfig","showCashManagement","setShowCashManagement","showReceiptSelection","setShowReceiptSelection","cashAction","setCashAction","cashSession","setCashSession","labelTemplate","setLabelTemplate","width","height","showComparison","showICMS","showBarcode","fontSize","comparison","colors","background","text","receiptConfig","setReceiptConfig","enableFiscalCoupon","enableReceipt","defaultType","rolePermissions","caixa","canChoose","fiscal","supervisor","gerente","admin","searchInputRef","barcodeInputRef","discountInputRef","discountValueInputRef","searchTimeoutRef","filteredProducts","filter","product","toLowerCase","includes","trim","current","clearTimeout","setTimeout","logAuthorization","action","details","log","timestamp","Date","toLocaleString","prev","console","addToCart","weight","finalWeight","totalPrice","existingItemIndex","findIndex","item","map","index","newItem","handleWeightConfirm","updateQuantity","find","requestAuthorization","type","title","description","removeFromCartDirect","itemId","newTotalPrice","removeFromCart","subtotal","reduce","sum","discountAmount","Math","min","total","handleBarcodeSearch","p","handleSearchKeyPress","e","key","length","request","handleAuthorization","actionName","toFixed","itemName","clearCart","clearCartDirect","handleDiscountChange","value","applyDiscount","hasPermission","module","role","permission","permissions","actions","completeSale","receivedAmount","changeAmount","receiptType","alert","userPermissions","message","forEach","payment","amount","paymentName","undefined","finalizeSale","focusSearchInput","_searchInputRef$curre","focus","focusBarcodeInput","_barcodeInputRef$curr","focusDiscountInput","_discountInputRef$cur","_discountValueInputRe","removeSelectedCartItem","increaseSelectedCartItem","decreaseSelectedCartItem","navigateCart","direction","navigateToScreen","screen","shortcuts","openMixedPayment","onBack","fileName","_jsxFileName","lineNumber","columnNumber","onUpdateProducts","className","children","onClick","variant","size","htmlFor","ref","placeholder","onChange","target","onKeyPress","_item$weight","stopPropagation","max","Number","onBlur","step","disabled","open","onOpenChange","onAuthorize","totalAmount","onConfirm","received","change","onPaymentConfirmed","onSelectCardType","payments","onRequestAuthorization","onLogin","user","currentTemplate","onSave","config","currentSession","now","toString","openedBy","openedAt","toISOString","initialAmount","totalSales","totalTransactions","status","userName","onSelect","_c","$RefreshReg$"],"sources":["/home/v/Documentos/Github/PDV-onlinesaas/pdv-react-pwa/src/pdv-caixa.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { Button } from \"./components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"./components/ui/card\";\nimport { Input } from \"./components/ui/input\";\nimport { Label } from \"./components/ui/label\";\nimport { Separator } from \"./components/ui/separator\";\nimport { ScrollArea } from \"./components/ui/scroll-area\";\nimport {\n  ShoppingCart,\n  Plus,\n  Minus,\n  Search,\n  CreditCard,\n  Banknote,\n  Percent,\n  Calculator,\n  QrCode,\n  History,\n  Shield,\n  Scale,\n  DollarSign,\n  Package,\n  Tag,\n  Settings,\n} from \"lucide-react\";\nimport HistoricoVendas from \"./historico-vendas\";\nimport CadastroProdutos from \"./cadastro-produtos\";\nimport EtiquetasPreco from \"./etiquetas-preco\";\nimport { Badge } from \"./components/ui/badge\";\nimport { useKeyboardShortcuts } from \"./hooks/use-keyboard-shortcuts\";\nimport { KeyboardShortcutsHelp } from \"./components/keyboard-shortcuts-help\";\nimport { AuthorizationDialog } from \"./components/authorization-dialog\";\nimport { CashPaymentDialog } from \"./components/cash-payment-dialog\";\nimport { PixPaymentDialog } from \"./components/pix-payment-dialog\";\nimport { CardPaymentDialog } from \"./components/card-payment-dialog\";\nimport { MixedPaymentDialog } from \"./components/mixed-payment-dialog\";\nimport { WeightInputDialog } from \"./components/weight-input-dialog\";\nimport { LoginDialog } from \"./components/login-dialog\";\nimport { LabelConfigDialog } from \"./components/label-config-dialog\";\nimport { ReceiptConfigDialog } from \"./components/receipt-config-dialog\";\nimport { CashManagementDialog } from \"./components/cash-management-dialog\";\nimport { ReceiptSelectionDialog } from \"./components/receipt-selection-dialog\";\n\nconst initialProducts = [\n  {\n    id: \"1\",\n    name: \"Coca-Cola 350ml\",\n    price: 4.5,\n    category: \"Bebidas\",\n    barcode: \"7894900011517\",\n    unit: \"un\",\n    icms: 18,\n    quantity: 350,\n    measureUnit: \"ml\",\n  },\n  {\n    id: \"2\",\n    name: \"P√£o Franc√™s\",\n    price: 8.9,\n    category: \"Padaria\",\n    barcode: \"2000000000001\",\n    requiresWeight: true,\n    unit: \"kg\",\n    icms: 7,\n  },\n  {\n    id: \"3\",\n    name: \"Leite Integral 1L\",\n    price: 5.2,\n    category: \"Latic√≠nios\",\n    barcode: \"7891000100103\",\n    unit: \"un\",\n    icms: 12,\n    quantity: 1,\n    measureUnit: \"l\",\n  },\n  {\n    id: \"4\",\n    name: \"Arroz Branco 5kg\",\n    price: 22.9,\n    category: \"Gr√£os\",\n    barcode: \"7896036098004\",\n    unit: \"un\",\n    icms: 7,\n    quantity: 5,\n    measureUnit: \"kg\",\n  },\n  {\n    id: \"5\",\n    name: \"Feij√£o Preto\",\n    price: 7.8,\n    category: \"Gr√£os\",\n    barcode: \"7896036098011\",\n    requiresWeight: true,\n    unit: \"kg\",\n    icms: 7,\n  },\n  {\n    id: \"6\",\n    name: \"A√ß√∫car Cristal\",\n    price: 4.2,\n    category: \"A√ß√∫car\",\n    barcode: \"7896036098028\",\n    requiresWeight: true,\n    unit: \"kg\",\n    icms: 7,\n  },\n  {\n    id: \"7\",\n    name: \"√ìleo de Soja 900ml\",\n    price: 6.9,\n    category: \"√ìleos\",\n    barcode: \"7896036098035\",\n    unit: \"un\",\n    icms: 18,\n    quantity: 900,\n    measureUnit: \"ml\",\n  },\n  {\n    id: \"8\",\n    name: \"Macarr√£o Espaguete\",\n    price: 3.8,\n    category: \"Massas\",\n    barcode: \"7896036098042\",\n    unit: \"un\",\n    icms: 7,\n    quantity: 500,\n    measureUnit: \"g\",\n  },\n  {\n    id: \"9\",\n    name: \"Banana Prata\",\n    price: 5.5,\n    category: \"Frutas\",\n    barcode: \"2000000000002\",\n    requiresWeight: true,\n    unit: \"kg\",\n    icms: 7,\n  },\n  {\n    id: \"10\",\n    name: \"Tomate\",\n    price: 8.2,\n    category: \"Verduras\",\n    barcode: \"2000000000003\",\n    requiresWeight: true,\n    unit: \"kg\",\n    icms: 7,\n  },\n  {\n    id: \"11\",\n    name: \"Carne Mo√≠da\",\n    price: 32.9,\n    category: \"Carnes\",\n    barcode: \"2000000000004\",\n    requiresWeight: true,\n    unit: \"kg\",\n    icms: 7,\n  },\n];\n\nexport default function PDVCaixa() {\n  const [products, setProducts] = useState(initialProducts);\n  const [cart, setCart] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [barcode, setBarcode] = useState(\"\");\n  const [discount, setDiscount] = useState(0);\n  const [tempDiscount, setTempDiscount] = useState(0);\n  const [discountType, setDiscountType] = useState(\"percentage\");\n  const [discountValue, setDiscountValue] = useState(0);\n  const [tempDiscountValue, setTempDiscountValue] = useState(0);\n  const [paymentMethod, setPaymentMethod] = useState(null);\n  const [currentScreen, setCurrentScreen] = useState(\"pdv\");\n  const [selectedCartIndex, setSelectedCartIndex] = useState(-1);\n  const [authorizationRequest, setAuthorizationRequest] = useState(null);\n  const [authorizationLog, setAuthorizationLog] = useState([]);\n  const [showCashPayment, setShowCashPayment] = useState(false);\n  const [showPixPayment, setShowPixPayment] = useState(false);\n  const [showCardSelection, setShowCardSelection] = useState(false);\n  const [showMixedPayment, setShowMixedPayment] = useState(false);\n  const [pixPaymentConfirmed, setPixPaymentConfirmed] = useState(false);\n  const [selectedCardType, setSelectedCardType] = useState(\"\");\n  const [mixedPayments, setMixedPayments] = useState([]);\n  const [showProductList, setShowProductList] = useState(false);\n  const [showWeightDialog, setShowWeightDialog] = useState(false);\n  const [selectedProductForWeight, setSelectedProductForWeight] =\n    useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(true);\n  const [showLabelConfig, setShowLabelConfig] = useState(false);\n  const [showReceiptConfig, setShowReceiptConfig] = useState(false);\n  const [showCashManagement, setShowCashManagement] = useState(false);\n  const [showReceiptSelection, setShowReceiptSelection] = useState(false);\n  const [cashAction, setCashAction] = useState(\"open\");\n  const [cashSession, setCashSession] = useState(null);\n  const [labelTemplate, setLabelTemplate] = useState({\n    id: \"standard\",\n    name: \"Padr√£o\",\n    width: 140,\n    height: 100,\n    showComparison: true,\n    showICMS: true,\n    showBarcode: true,\n    fontSize: { name: 12, price: 18, comparison: 10, barcode: 8 },\n    colors: {\n      background: \"#ffffff\",\n      text: \"#000000\",\n      price: \"#16a34a\",\n      comparison: \"#2563eb\",\n    },\n  });\n  const [receiptConfig, setReceiptConfig] = useState({\n    enableFiscalCoupon: true,\n    enableReceipt: true,\n    defaultType: \"fiscal\",\n    rolePermissions: {\n      caixa: { canChoose: false, defaultType: \"receipt\" },\n      fiscal: { canChoose: true, defaultType: \"fiscal\" },\n      supervisor: { canChoose: true, defaultType: \"fiscal\" },\n      gerente: { canChoose: true, defaultType: \"both\" },\n      admin: { canChoose: true, defaultType: \"both\" },\n    },\n  });\n\n  const searchInputRef = useRef(null);\n  const barcodeInputRef = useRef(null);\n  const discountInputRef = useRef(null);\n  const discountValueInputRef = useRef(null);\n  const searchTimeoutRef = useRef();\n\n  const filteredProducts = products.filter(\n    (product) =>\n      product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      product.barcode.includes(searchTerm)\n  );\n\n  // Auto-hide da lista de produtos ap√≥s 3 segundos sem pesquisa\n  useEffect(() => {\n    if (searchTerm.trim()) {\n      setShowProductList(true);\n\n      // Limpar timeout anterior\n      if (searchTimeoutRef.current) {\n        clearTimeout(searchTimeoutRef.current);\n      }\n\n      // Definir novo timeout para esconder a lista\n      searchTimeoutRef.current = setTimeout(() => {\n        setShowProductList(false);\n      }, 5000); // 5 segundos\n    } else {\n      setShowProductList(false);\n    }\n\n    return () => {\n      if (searchTimeoutRef.current) {\n        clearTimeout(searchTimeoutRef.current);\n      }\n    };\n  }, [searchTerm]);\n\n  const logAuthorization = (supervisor, action, details) => {\n    const log = {\n      timestamp: new Date().toLocaleString(\"pt-BR\"),\n      supervisor,\n      action,\n      details,\n    };\n    setAuthorizationLog((prev) => [log, ...prev]);\n    console.log(\"Autoriza√ß√£o registrada:\", log);\n  };\n\n  const addToCart = (product, weight) => {\n    if (product.requiresWeight && !weight) {\n      setSelectedProductForWeight(product);\n      setShowWeightDialog(true);\n      return;\n    }\n\n    const finalWeight = weight || 1;\n    const totalPrice = product.requiresWeight\n      ? product.price * finalWeight\n      : product.price;\n\n    setCart((prev) => {\n      const existingItemIndex = prev.findIndex(\n        (item) =>\n          item.id === product.id &&\n          (!product.requiresWeight || item.weight === finalWeight)\n      );\n\n      if (existingItemIndex >= 0 && !product.requiresWeight) {\n        // Para produtos normais, aumentar quantidade\n        return prev.map((item, index) =>\n          index === existingItemIndex\n            ? {\n                ...item,\n                quantity: item.quantity + 1,\n                totalPrice: item.totalPrice + product.price,\n              }\n            : item\n        );\n      } else {\n        // Para produtos por peso ou novos produtos\n        const newItem = {\n          ...product,\n          quantity: 1,\n          weight: finalWeight,\n          totalPrice: totalPrice,\n        };\n        return [...prev, newItem];\n      }\n    });\n\n    // Esconder lista ap√≥s adicionar produto\n    setShowProductList(false);\n    setSearchTerm(\"\");\n  };\n\n  const handleWeightConfirm = (weight) => {\n    if (selectedProductForWeight) {\n      addToCart(selectedProductForWeight, weight);\n      setSelectedProductForWeight(null);\n    }\n  };\n\n  const updateQuantity = (id, quantity, weight) => {\n    if (quantity <= 0) {\n      const item = cart.find(\n        (item) => item.id === id && (!weight || item.weight === weight)\n      );\n      requestAuthorization({\n        type: \"remove-item\",\n        title: \"Remover Item\",\n        description: `Remover \"${item?.name}\" do carrinho. Esta a√ß√£o requer autoriza√ß√£o do fiscal.`,\n        action: () => removeFromCartDirect(id, weight),\n        itemId: id,\n      });\n      return;\n    }\n\n    setCart((prev) =>\n      prev.map((item) => {\n        if (item.id === id && (!weight || item.weight === weight)) {\n          const newTotalPrice = item.requiresWeight\n            ? item.price * (item.weight || 1) * quantity\n            : item.price * quantity;\n          return { ...item, quantity, totalPrice: newTotalPrice };\n        }\n        return item;\n      })\n    );\n  };\n\n  const removeFromCart = (id, weight) => {\n    const item = cart.find(\n      (item) => item.id === id && (!weight || item.weight === weight)\n    );\n    requestAuthorization({\n      type: \"remove-item\",\n      title: \"Remover Item\",\n      description: `Remover \"${item?.name}\" do carrinho. Esta a√ß√£o requer autoriza√ß√£o do fiscal.`,\n      action: () => removeFromCartDirect(id, weight),\n      itemId: id,\n    });\n  };\n\n  const removeFromCartDirect = (id, weight) => {\n    const item = cart.find(\n      (item) => item.id === id && (!weight || item.weight === weight)\n    );\n    setCart((prev) =>\n      prev.filter(\n        (item) => !(item.id === id && (!weight || item.weight === weight))\n      )\n    );\n    if (selectedCartIndex >= 0) {\n      setSelectedCartIndex(-1);\n    }\n    return item?.name || \"Item\";\n  };\n\n  const subtotal = cart.reduce((sum, item) => sum + item.totalPrice, 0);\n\n  // Calcular desconto baseado no tipo\n  const discountAmount =\n    discountType === \"percentage\"\n      ? (subtotal * discount) / 100\n      : Math.min(discountValue, subtotal); // N√£o pode ser maior que o subtotal\n\n  const total = subtotal - discountAmount;\n\n  const handleBarcodeSearch = () => {\n    const product = products.find((p) => p.barcode === barcode);\n    if (product) {\n      addToCart(product);\n      setBarcode(\"\");\n    }\n  };\n\n  const handleSearchKeyPress = (e) => {\n    if (e.key === \"Enter\" && filteredProducts.length === 1) {\n      addToCart(filteredProducts[0]);\n      setSearchTerm(\"\");\n    }\n  };\n\n  const requestAuthorization = (request) => {\n    setAuthorizationRequest(request);\n  };\n\n  const handleAuthorization = (supervisor) => {\n    if (authorizationRequest) {\n      let details = \"\";\n      let actionName = \"\";\n\n      if (authorizationRequest.type === \"discount\") {\n        actionName = \"Aplicar Desconto\";\n        if (discountType === \"percentage\") {\n          details = `Desconto de ${tempDiscount}% aplicado. Valor: R$ ${(\n            (subtotal * tempDiscount) /\n            100\n          ).toFixed(2)}`;\n        } else {\n          details = `Desconto de R$ ${tempDiscountValue.toFixed(2)} aplicado`;\n        }\n      } else if (authorizationRequest.type === \"clear-cart\") {\n        actionName = \"Limpar Carrinho\";\n        details = `Carrinho com ${\n          cart.length\n        } itens limpo. Valor total: R$ ${total.toFixed(2)}`;\n      } else if (authorizationRequest.type === \"remove-item\") {\n        const itemName = removeFromCartDirect(authorizationRequest.itemId);\n        actionName = \"Remover Item\";\n        details = `Item \"${itemName}\" removido do carrinho`;\n        setAuthorizationRequest(null);\n        logAuthorization(supervisor, actionName, details);\n        return;\n      }\n\n      authorizationRequest.action();\n      logAuthorization(supervisor, actionName, details);\n      setAuthorizationRequest(null);\n    }\n  };\n\n  const clearCart = () => {\n    if (cart.length === 0) return;\n\n    requestAuthorization({\n      type: \"clear-cart\",\n      title: \"Limpar Carrinho\",\n      description: `Limpar carrinho com ${\n        cart.length\n      } itens (Total: R$ ${total.toFixed(\n        2\n      )}). Esta a√ß√£o requer autoriza√ß√£o do fiscal.`,\n      action: () => clearCartDirect(),\n    });\n  };\n\n  const clearCartDirect = () => {\n    setCart([]);\n    setDiscount(0);\n    setTempDiscount(0);\n    setDiscountValue(0);\n    setTempDiscountValue(0);\n    setPaymentMethod(null);\n    setSelectedCartIndex(-1);\n    setPixPaymentConfirmed(false);\n    setSelectedCardType(\"\");\n    setMixedPayments([]);\n  };\n\n  const handleDiscountChange = (value, type) => {\n    if (type === \"percentage\") {\n      setTempDiscount(value);\n      if (value > discount) {\n        requestAuthorization({\n          type: \"discount\",\n          title: \"Aplicar Desconto\",\n          description: `Aplicar desconto de ${value}% (R$ ${(\n            (subtotal * value) /\n            100\n          ).toFixed(2)}). Esta a√ß√£o requer autoriza√ß√£o do fiscal.`,\n          action: () => applyDiscount(value, type),\n        });\n      } else {\n        setDiscount(value);\n      }\n    } else {\n      setTempDiscountValue(value);\n      if (value > discountValue) {\n        requestAuthorization({\n          type: \"discount\",\n          title: \"Aplicar Desconto\",\n          description: `Aplicar desconto de R$ ${value.toFixed(\n            2\n          )}. Esta a√ß√£o requer autoriza√ß√£o do fiscal.`,\n          action: () => applyDiscount(value, type),\n        });\n      } else {\n        setDiscountValue(value);\n      }\n    }\n  };\n\n  const applyDiscount = (value, type) => {\n    if (type === \"percentage\") {\n      setDiscount(value);\n    } else {\n      setDiscountValue(value);\n    }\n  };\n\n  const hasPermission = (module, action) => {\n    if (!currentUser) return false;\n    if (currentUser.role === \"admin\") return true;\n\n    const permission = currentUser.permissions.find((p) => p.module === module);\n    return (\n      permission?.actions.includes(action) || permission?.actions.includes(\"*\")\n    );\n  };\n\n  const completeSale = (receivedAmount, changeAmount, receiptType) => {\n    // ADICIONAR verifica√ß√£o para evitar venda com carrinho vazio\n    if (cart.length === 0) {\n      alert(\"N√£o √© poss√≠vel finalizar venda com carrinho vazio!\");\n      return;\n    }\n\n    // ADICIONAR verifica√ß√£o para evitar venda com total zero\n    if (total <= 0) {\n      alert(\"N√£o √© poss√≠vel finalizar venda com valor zero!\");\n      return;\n    }\n\n    if (!receiptType && currentUser) {\n      const userPermissions = receiptConfig.rolePermissions[currentUser.role];\n      if (userPermissions?.canChoose) {\n        setShowReceiptSelection(true);\n        return;\n      } else {\n        receiptType = userPermissions?.defaultType || \"receipt\";\n      }\n    }\n\n    let message = `Venda finalizada!\\nTotal: R$ ${total.toFixed(2)}`;\n\n    // Adicionar informa√ß√µes do comprovante\n    if (receiptType === \"fiscal\") {\n      message += `\\nüìÑ Cupom Fiscal emitido`;\n    } else if (receiptType === \"receipt\") {\n      message += `\\nüìã Recibo simples emitido`;\n    } else if (receiptType === \"both\") {\n      message += `\\nüìÑ Cupom Fiscal emitido\\nüìã Recibo simples emitido`;\n    }\n\n    if (mixedPayments.length > 0) {\n      message += `\\nPagamento Misto:`;\n      mixedPayments.forEach((payment) => {\n        message += `\\n- ${payment.name}: R$ ${payment.amount.toFixed(2)}`;\n        if (payment.type === \"pix\") {\n          message += \" (PIX Confirmado)\";\n        }\n      });\n    } else if (paymentMethod) {\n      let paymentName = paymentMethod;\n      if (paymentMethod === \"cartao\" && selectedCardType) {\n        paymentName = `Cart√£o ${selectedCardType}`;\n      }\n      message += `\\nPagamento: ${paymentName}`;\n    }\n\n    if (\n      paymentMethod === \"dinheiro\" &&\n      receivedAmount &&\n      changeAmount !== undefined\n    ) {\n      message += `\\nRecebido: R$ ${receivedAmount.toFixed(2)}`;\n      if (changeAmount > 0) {\n        message += `\\nTroco: R$ ${changeAmount.toFixed(2)}`;\n      } else {\n        message += `\\nTroco: Valor exato`;\n      }\n    }\n\n    alert(message);\n    clearCartDirect();\n  };\n\n  const finalizeSale = () => {\n    // ADICIONAR verifica√ß√µes antes de finalizar\n    if (cart.length === 0) {\n      alert(\"Adicione produtos ao carrinho antes de finalizar a venda!\");\n      return;\n    }\n\n    if (total <= 0) {\n      alert(\"O valor total deve ser maior que zero!\");\n      return;\n    }\n\n    if (!paymentMethod && mixedPayments.length === 0) {\n      alert(\"Selecione uma forma de pagamento!\");\n      return;\n    }\n\n    if (paymentMethod === \"dinheiro\") {\n      setShowCashPayment(true);\n      return;\n    }\n\n    if (paymentMethod === \"pix\") {\n      if (!pixPaymentConfirmed) {\n        setShowPixPayment(true);\n        return;\n      }\n    }\n\n    if (paymentMethod === \"cartao\" && !selectedCardType) {\n      setShowCardSelection(true);\n      return;\n    }\n\n    // Para cart√£o e PIX confirmado, finalizar diretamente\n    completeSale();\n  };\n\n  const focusSearchInput = () => {\n    searchInputRef.current?.focus();\n  };\n\n  const focusBarcodeInput = () => {\n    barcodeInputRef.current?.focus();\n  };\n\n  const focusDiscountInput = () => {\n    if (discountType === \"percentage\") {\n      discountInputRef.current?.focus();\n    } else {\n      discountValueInputRef.current?.focus();\n    }\n  };\n\n  const removeSelectedCartItem = () => {\n    if (selectedCartIndex >= 0 && selectedCartIndex < cart.length) {\n      const item = cart[selectedCartIndex];\n      removeFromCart(item.id, item.weight);\n    }\n  };\n\n  const increaseSelectedCartItem = () => {\n    if (selectedCartIndex >= 0 && selectedCartIndex < cart.length) {\n      const item = cart[selectedCartIndex];\n      updateQuantity(item.id, item.quantity + 1, item.weight);\n    }\n  };\n\n  const decreaseSelectedCartItem = () => {\n    if (selectedCartIndex >= 0 && selectedCartIndex < cart.length) {\n      const item = cart[selectedCartIndex];\n      updateQuantity(item.id, item.quantity - 1, item.weight);\n    }\n  };\n\n  const navigateCart = (direction) => {\n    if (cart.length === 0) return;\n\n    if (direction === \"up\") {\n      setSelectedCartIndex((prev) => (prev <= 0 ? cart.length - 1 : prev - 1));\n    } else {\n      setSelectedCartIndex((prev) => (prev >= cart.length - 1 ? 0 : prev + 1));\n    }\n  };\n\n  const navigateToScreen = (screen) => {\n    if (screen === \"cadastro\" && !hasPermission(\"products\", \"manage\")) {\n      alert(\n        \"Acesso negado. Voc√™ n√£o tem permiss√£o para acessar o cadastro de produtos.\"\n      );\n      return;\n    }\n    if (screen === \"etiquetas\" && !hasPermission(\"labels\", \"config\")) {\n      alert(\"Acesso negado. Voc√™ n√£o tem permiss√£o para acessar as etiquetas.\");\n      return;\n    }\n    setCurrentScreen(screen);\n  };\n\n  // Definir atalhos de teclado\n  const shortcuts = useKeyboardShortcuts([\n    {\n      key: \"F1\",\n      action: finalizeSale,\n      description: \"Finalizar Venda\",\n    },\n    {\n      key: \"F2\",\n      action: clearCart,\n      description: \"Limpar Carrinho\",\n    },\n    {\n      key: \"F3\",\n      action: () => setPaymentMethod(\"dinheiro\"),\n      description: \"Pagamento em Dinheiro\",\n    },\n    {\n      key: \"F4\",\n      action: () => setPaymentMethod(\"cartao\"),\n      description: \"Pagamento no Cart√£o\",\n    },\n    {\n      key: \"F5\",\n      action: () => setPaymentMethod(\"pix\"),\n      description: \"Pagamento via PIX\",\n    },\n    {\n      key: \"F6\",\n      action: () => setCurrentScreen(\"historico\"),\n      description: \"Hist√≥rico de Vendas\",\n    },\n    {\n      key: \"F7\",\n      action: focusDiscountInput,\n      description: \"Aplicar Desconto\",\n    },\n    {\n      key: \"F8\",\n      action: focusSearchInput,\n      description: \"Buscar Produto\",\n    },\n    {\n      key: \"F9\",\n      action: focusBarcodeInput,\n      description: \"C√≥digo de Barras\",\n    },\n    {\n      key: \"F10\",\n      action: handleBarcodeSearch,\n      description: \"Adicionar por C√≥digo\",\n    },\n    {\n      key: \"Delete\",\n      action: removeSelectedCartItem,\n      description: \"Remover Item Selecionado\",\n    },\n    {\n      key: \"ArrowUp\",\n      action: () => navigateCart(\"up\"),\n      description: \"Navegar Carrinho (Cima)\",\n    },\n    {\n      key: \"ArrowDown\",\n      action: () => navigateCart(\"down\"),\n      description: \"Navegar Carrinho (Baixo)\",\n    },\n    {\n      key: \"+\",\n      action: increaseSelectedCartItem,\n      description: \"Aumentar Quantidade\",\n    },\n    {\n      key: \"-\",\n      action: decreaseSelectedCartItem,\n      description: \"Diminuir Quantidade\",\n    },\n  ]);\n\n  const openMixedPayment = () => {\n    setShowMixedPayment(true);\n  };\n\n  // Renderizar telas diferentes\n  if (currentScreen === \"historico\") {\n    return <HistoricoVendas onBack={() => setCurrentScreen(\"pdv\")} />;\n  }\n\n  if (currentScreen === \"cadastro\") {\n    return (\n      <CadastroProdutos\n        onBack={() => setCurrentScreen(\"pdv\")}\n        products={products}\n        onUpdateProducts={setProducts}\n      />\n    );\n  }\n\n  if (currentScreen === \"etiquetas\") {\n    return (\n      <EtiquetasPreco\n        onBack={() => setCurrentScreen(\"pdv\")}\n        products={products}\n      />\n    );\n  }\n\n  return (\n    <div className=\"h-screen bg-gray-50 flex flex-col overflow-hidden\">\n      {/* Header */}\n      <div className=\"flex-shrink-0 p-4 border-b bg-white\">\n        <div className=\"max-w-7xl mx-auto flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl md:text-3xl font-bold text-gray-900\">\n              Sistema PDV - Caixa\n            </h1>\n            <p className=\"text-sm text-gray-600\">Ponto de Venda</p>\n          </div>\n          <div className=\"flex gap-2\">\n            <KeyboardShortcutsHelp shortcuts={shortcuts} />\n            {hasPermission(\"labels\", \"config\") && (\n              <Button\n                onClick={() => setShowLabelConfig(true)}\n                variant=\"outline\"\n                size=\"sm\"\n              >\n                <Settings className=\"w-4 h-4 mr-2\" />\n                <span className=\"hidden sm:inline\">Config. Etiquetas</span>\n              </Button>\n            )}\n            {hasPermission(\"cash\", \"manage\") && (\n              <Button\n                onClick={() => {\n                  setCashAction(cashSession ? \"close\" : \"open\");\n                  setShowCashManagement(true);\n                }}\n                variant=\"outline\"\n                size=\"sm\"\n              >\n                <DollarSign className=\"w-4 h-4 mr-2\" />\n                <span className=\"hidden sm:inline\">\n                  {cashSession ? \"Fechar Caixa\" : \"Abrir Caixa\"}\n                </span>\n              </Button>\n            )}\n            <Button\n              onClick={() => navigateToScreen(\"cadastro\")}\n              variant=\"outline\"\n              size=\"sm\"\n            >\n              <Package className=\"w-4 h-4 mr-2\" />\n              <span className=\"hidden sm:inline\">Produtos</span>\n            </Button>\n            <Button\n              onClick={() => navigateToScreen(\"etiquetas\")}\n              variant=\"outline\"\n              size=\"sm\"\n            >\n              <Tag className=\"w-4 h-4 mr-2\" />\n              <span className=\"hidden sm:inline\">Etiquetas</span>\n            </Button>\n            <Button\n              onClick={() => setCurrentScreen(\"historico\")}\n              variant=\"outline\"\n              size=\"sm\"\n            >\n              <History className=\"w-4 h-4 mr-2\" />\n              <span className=\"hidden sm:inline\">Hist√≥rico (F6)</span>\n              <span className=\"sm:hidden\">F6</span>\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 p-4 overflow-hidden\">\n        <div className=\"max-w-7xl mx-auto h-full\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 h-full\">\n            {/* Produtos */}\n            <div className=\"lg:col-span-2 flex flex-col min-h-0\">\n              <Card className=\"flex-1 flex flex-col min-h-0\">\n                <CardHeader className=\"flex-shrink-0 pb-4\">\n                  <CardTitle className=\"flex items-center gap-2 text-lg\">\n                    <Search className=\"w-5 h-5\" />\n                    Produtos\n                  </CardTitle>\n                  <div className=\"space-y-3\">\n                    <div>\n                      <Label htmlFor=\"search\" className=\"text-sm\">\n                        Buscar produto (F8)\n                      </Label>\n                      <Input\n                        ref={searchInputRef}\n                        id=\"search\"\n                        placeholder=\"Nome do produto ou c√≥digo de barras...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        onKeyPress={handleSearchKeyPress}\n                        className=\"mt-1\"\n                      />\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <Input\n                        ref={barcodeInputRef}\n                        placeholder=\"C√≥digo de barras (F9)\"\n                        value={barcode}\n                        onChange={(e) => setBarcode(e.target.value)}\n                        onKeyPress={(e) =>\n                          e.key === \"Enter\" && handleBarcodeSearch()\n                        }\n                        className=\"flex-1\"\n                      />\n                      <Button\n                        onClick={handleBarcodeSearch}\n                        title=\"F10\"\n                        size=\"sm\"\n                      >\n                        <Plus className=\"w-4 h-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                </CardHeader>\n\n                <CardContent className=\"flex-1 flex flex-col min-h-0 relative\">\n                  {/* Lista de Produtos Filtrados - Overlay */}\n                  {showProductList && searchTerm && (\n                    <div className=\"absolute inset-0 z-10 bg-white border rounded-lg shadow-lg\">\n                      <ScrollArea className=\"h-full p-2\">\n                        {filteredProducts.length === 0 ? (\n                          <p className=\"text-gray-500 text-center py-8\">\n                            Nenhum produto encontrado\n                          </p>\n                        ) : (\n                          <div className=\"space-y-2\">\n                            {filteredProducts.map((product) => (\n                              <Card\n                                key={product.id}\n                                className=\"cursor-pointer hover:shadow-md transition-shadow p-3\"\n                              >\n                                <div className=\"flex justify-between items-center\">\n                                  <div className=\"flex-1\">\n                                    <div className=\"flex items-center gap-2\">\n                                      <h3 className=\"font-semibold text-sm\">\n                                        {product.name}\n                                      </h3>\n                                      {product.requiresWeight && (\n                                        <Scale\n                                          className=\"w-3 h-3 text-orange-600\"\n                                          title=\"Produto por peso\"\n                                        />\n                                      )}\n                                      {product.icms && (\n                                        <Badge\n                                          variant=\"outline\"\n                                          className=\"text-xs\"\n                                        >\n                                          ICMS {product.icms}%\n                                        </Badge>\n                                      )}\n                                    </div>\n                                    <div className=\"flex items-center gap-2 mt-1\">\n                                      <Badge\n                                        variant=\"secondary\"\n                                        className=\"text-xs\"\n                                      >\n                                        {product.category}\n                                      </Badge>\n                                      <span className=\"text-xs text-gray-500\">\n                                        {product.barcode}\n                                      </span>\n                                      <span className=\"text-xs text-blue-600\">\n                                        {product.requiresWeight\n                                          ? `R$ ${product.price.toFixed(2)}/kg`\n                                          : `R$ ${product.price.toFixed(2)}/${\n                                              product.unit\n                                            }`}\n                                      </span>\n                                    </div>\n                                  </div>\n                                  <div className=\"text-right\">\n                                    <Button\n                                      onClick={() => addToCart(product)}\n                                      size=\"sm\"\n                                      className=\"mt-1\"\n                                    >\n                                      <Plus className=\"w-3 h-3 mr-1\" />\n                                      Add\n                                    </Button>\n                                  </div>\n                                </div>\n                              </Card>\n                            ))}\n                          </div>\n                        )}\n                      </ScrollArea>\n                    </div>\n                  )}\n\n                  {/* Logo da Empresa */}\n                  <div className=\"flex-1 flex items-center justify-center\">\n                    <div className=\"text-center p-8 border-2 border-dashed border-gray-200 rounded-lg bg-gray-50 max-w-md\">\n                      <div className=\"w-32 h-32 mx-auto mb-4 bg-gray-200 rounded-lg flex items-center justify-center\">\n                        <span className=\"text-gray-400 text-sm\">LOGO</span>\n                      </div>\n                      <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">\n                        Sua Empresa\n                      </h3>\n                      <p className=\"text-sm text-gray-500\">\n                        Use F8 para buscar produtos ou F9 para c√≥digo de barras\n                      </p>\n                    </div>\n                  </div>\n\n                  {/* QR Code PIX - quando necess√°rio */}\n                  {paymentMethod === \"pix\" && total > 0 && (\n                    <div className=\"absolute bottom-4 right-4 p-4 border rounded-lg bg-white shadow-lg\">\n                      <h3 className=\"font-semibold mb-3 text-center text-sm\">\n                        QR Code PIX\n                      </h3>\n                      <div className=\"flex flex-col items-center space-y-2\">\n                        <div className=\"w-32 h-32 bg-white border-2 border-gray-300 rounded-lg flex items-center justify-center\">\n                          <div className=\"text-center text-gray-500\">\n                            <p className=\"text-xs\">QR Code PIX</p>\n                            <p className=\"text-xs mt-1\">\n                              R$ {total.toFixed(2)}\n                            </p>\n                          </div>\n                        </div>\n                        <p className=\"text-xs text-gray-600 text-center max-w-32\">\n                          Escaneie para pagar\n                        </p>\n                      </div>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Carrinho */}\n            <div className=\"flex flex-col min-h-0\">\n              <Card className=\"flex-1 flex flex-col min-h-0\">\n                <CardHeader className=\"flex-shrink-0 pb-3\">\n                  <CardTitle className=\"flex items-center gap-2 text-lg\">\n                    <ShoppingCart className=\"w-5 h-5\" />\n                    Carrinho ({cart.length} itens)\n                  </CardTitle>\n                </CardHeader>\n\n                <CardContent className=\"flex-1 flex flex-col min-h-0 space-y-3\">\n                  {/* Lista do Carrinho com Scroll */}\n                  <div className=\"flex-1 min-h-0\">\n                    <ScrollArea className=\"h-full\">\n                      {cart.length === 0 ? (\n                        <div className=\"flex items-center justify-center h-32\">\n                          <p className=\"text-gray-500 text-center\">\n                            Carrinho vazio\n                          </p>\n                        </div>\n                      ) : (\n                        <div className=\"space-y-2 pr-2\">\n                          {cart.map((item, index) => (\n                            <div\n                              key={`${item.id}-${item.weight || \"unit\"}`}\n                              className={`flex items-center gap-2 p-2 border rounded cursor-pointer transition-colors ${\n                                selectedCartIndex === index\n                                  ? \"bg-blue-50 border-blue-300\"\n                                  : \"hover:bg-gray-50\"\n                              }`}\n                              onClick={() => setSelectedCartIndex(index)}\n                            >\n                              <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-center gap-1\">\n                                  <p className=\"font-medium text-sm truncate\">\n                                    {item.name}\n                                  </p>\n                                  {item.requiresWeight && (\n                                    <Scale className=\"w-3 h-3 text-orange-600\" />\n                                  )}\n                                  {item.icms && (\n                                    <Badge\n                                      variant=\"outline\"\n                                      className=\"text-xs\"\n                                    >\n                                      ICMS {item.icms}%\n                                    </Badge>\n                                  )}\n                                </div>\n                                <div className=\"text-xs text-gray-500\">\n                                  {item.requiresWeight ? (\n                                    <span>\n                                      {item.weight?.toFixed(3)} kg √ó R${\" \"}\n                                      {item.price.toFixed(2)}/kg\n                                    </span>\n                                  ) : (\n                                    <span>\n                                      R$ {item.price.toFixed(2)}/{item.unit}\n                                    </span>\n                                  )}\n                                </div>\n                                <div className=\"text-xs font-semibold text-green-600\">\n                                  Total: R$ {item.totalPrice.toFixed(2)}\n                                </div>\n                              </div>\n                              <div className=\"flex items-center gap-1\">\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    updateQuantity(\n                                      item.id,\n                                      item.quantity - 1,\n                                      item.weight\n                                    );\n                                  }}\n                                  className=\"h-6 w-6 p-0\"\n                                >\n                                  <Minus className=\"w-3 h-3\" />\n                                </Button>\n                                <span className=\"w-6 text-center text-sm\">\n                                  {item.quantity}\n                                </span>\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    updateQuantity(\n                                      item.id,\n                                      item.quantity + 1,\n                                      item.weight\n                                    );\n                                  }}\n                                  className=\"h-6 w-6 p-0\"\n                                >\n                                  <Plus className=\"w-3 h-3\" />\n                                </Button>\n                              </div>\n                              <Button\n                                size=\"sm\"\n                                variant=\"destructive\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  removeFromCart(item.id, item.weight);\n                                }}\n                                title=\"Requer cart√£o de autoriza√ß√£o\"\n                                className=\"h-6 w-6 p-0\"\n                              >\n                                <Shield className=\"w-3 h-3\" />\n                              </Button>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </ScrollArea>\n                  </div>\n\n                  <Separator />\n\n                  {/* Desconto */}\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center gap-2\">\n                      {discountType === \"percentage\" ? (\n                        <Percent className=\"w-4 h-4\" />\n                      ) : (\n                        <DollarSign className=\"w-4 h-4\" />\n                      )}\n                      <Label className=\"text-sm\">Desconto (F7)</Label>\n                      <Shield\n                        className=\"w-4 h-4 text-orange-600\"\n                        title=\"Requer cart√£o de autoriza√ß√£o\"\n                      />\n                    </div>\n\n                    {/* Toggle entre % e R$ */}\n                    <div className=\"flex gap-1\">\n                      <Button\n                        size=\"sm\"\n                        variant={\n                          discountType === \"percentage\" ? \"default\" : \"outline\"\n                        }\n                        onClick={() => setDiscountType(\"percentage\")}\n                        className=\"flex-1 h-6 text-xs\"\n                      >\n                        <Percent className=\"w-3 h-3 mr-1\" />%\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        variant={\n                          discountType === \"value\" ? \"default\" : \"outline\"\n                        }\n                        onClick={() => setDiscountType(\"value\")}\n                        className=\"flex-1 h-6 text-xs\"\n                      >\n                        <DollarSign className=\"w-3 h-3 mr-1\" />\n                        R$\n                      </Button>\n                    </div>\n\n                    {discountType === \"percentage\" ? (\n                      <Input\n                        ref={discountInputRef}\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"100\"\n                        value={tempDiscount}\n                        onChange={(e) => {\n                          const value = Number(e.target.value);\n                          setTempDiscount(value);\n                        }}\n                        onBlur={(e) => {\n                          const value = Number(e.target.value);\n                          if (value !== discount) {\n                            handleDiscountChange(value, \"percentage\");\n                          }\n                        }}\n                        onKeyPress={(e) => {\n                          if (e.key === \"Enter\") {\n                            const value = Number(e.target.value);\n                            if (value !== discount) {\n                              handleDiscountChange(value, \"percentage\");\n                            }\n                          }\n                        }}\n                        placeholder=\"0\"\n                        className=\"h-8\"\n                      />\n                    ) : (\n                      <Input\n                        ref={discountValueInputRef}\n                        type=\"number\"\n                        min=\"0\"\n                        max={subtotal}\n                        step=\"0.01\"\n                        value={tempDiscountValue}\n                        onChange={(e) => {\n                          const value = Number(e.target.value);\n                          setTempDiscountValue(value);\n                        }}\n                        onBlur={(e) => {\n                          const value = Number(e.target.value);\n                          if (value !== discountValue) {\n                            handleDiscountChange(value, \"value\");\n                          }\n                        }}\n                        onKeyPress={(e) => {\n                          if (e.key === \"Enter\") {\n                            const value = Number(e.target.value);\n                            if (value !== discountValue) {\n                              handleDiscountChange(value, \"value\");\n                            }\n                          }\n                        }}\n                        placeholder=\"0,00\"\n                        className=\"h-8\"\n                      />\n                    )}\n                  </div>\n\n                  <Separator />\n\n                  {/* Totais */}\n                  <div className=\"space-y-1 text-sm\">\n                    <div className=\"flex justify-between\">\n                      <span>Subtotal:</span>\n                      <span>R$ {subtotal.toFixed(2)}</span>\n                    </div>\n                    {discountAmount > 0 && (\n                      <div className=\"flex justify-between text-red-600\">\n                        <span>\n                          Desconto (\n                          {discountType === \"percentage\"\n                            ? `${discount}%`\n                            : `R$ ${discountValue.toFixed(2)}`}\n                          ):\n                        </span>\n                        <span>-R$ {discountAmount.toFixed(2)}</span>\n                      </div>\n                    )}\n                    <Separator />\n                    <div className=\"flex justify-between font-bold text-base\">\n                      <span>Total:</span>\n                      <span className=\"text-green-600\">\n                        R$ {total.toFixed(2)}\n                      </span>\n                    </div>\n                  </div>\n\n                  <Separator />\n\n                  {/* Pagamento */}\n                  <div className=\"space-y-2\">\n                    <Label className=\"text-sm\">Forma de Pagamento</Label>\n                    <div className=\"grid grid-cols-3 gap-1\">\n                      <Button\n                        variant={\n                          paymentMethod === \"dinheiro\" ? \"default\" : \"outline\"\n                        }\n                        onClick={() => {\n                          setPaymentMethod(\"dinheiro\");\n                          setPixPaymentConfirmed(false);\n                          setSelectedCardType(\"\");\n                        }}\n                        className=\"flex items-center gap-1 text-xs h-8\"\n                        title=\"F3\"\n                      >\n                        <Banknote className=\"w-3 h-3\" />\n                        <span className=\"hidden sm:inline\">Dinheiro</span>\n                        <span className=\"sm:hidden\">$</span>\n                      </Button>\n                      <Button\n                        variant={\n                          paymentMethod === \"cartao\" ? \"default\" : \"outline\"\n                        }\n                        onClick={() => {\n                          setPaymentMethod(\"cartao\");\n                          setPixPaymentConfirmed(false);\n                          setShowCardSelection(true);\n                        }}\n                        className=\"flex items-center gap-1 text-xs h-8\"\n                        title=\"F4\"\n                      >\n                        <CreditCard className=\"w-3 h-3\" />\n                        <span className=\"hidden sm:inline\">Cart√£o</span>\n                        <span className=\"sm:hidden\">üí≥</span>\n                      </Button>\n                      <Button\n                        variant={\n                          paymentMethod === \"pix\" ? \"default\" : \"outline\"\n                        }\n                        onClick={() => {\n                          setPaymentMethod(\"pix\");\n                          setPixPaymentConfirmed(false);\n                          setSelectedCardType(\"\");\n                        }}\n                        className=\"flex items-center gap-1 text-xs h-8\"\n                        title=\"F5\"\n                      >\n                        <QrCode className=\"w-3 h-3\" />\n                        PIX\n                      </Button>\n                    </div>\n\n                    {/* Bot√£o Pagamento Misto */}\n                    <Button\n                      variant=\"outline\"\n                      onClick={openMixedPayment}\n                      className=\"w-full h-8 text-xs bg-transparent\"\n                    >\n                      <Calculator className=\"w-3 h-3 mr-1\" />\n                      Pagamento Misto\n                    </Button>\n\n                    {/* Status dos Pagamentos */}\n                    {paymentMethod === \"cartao\" && selectedCardType && (\n                      <div className=\"text-center p-1 bg-blue-50 rounded text-xs\">\n                        <span className=\"text-blue-600\">\n                          Cart√£o: {selectedCardType}\n                        </span>\n                      </div>\n                    )}\n\n                    {paymentMethod === \"pix\" && pixPaymentConfirmed && (\n                      <div className=\"text-center p-1 bg-green-50 rounded text-xs\">\n                        <span className=\"text-green-600\">\n                          ‚úÖ PIX Confirmado\n                        </span>\n                      </div>\n                    )}\n\n                    {mixedPayments.length > 0 && (\n                      <div className=\"space-y-1\">\n                        <Label className=\"text-xs\">Pagamentos:</Label>\n                        {mixedPayments.map((payment, index) => (\n                          <div\n                            key={index}\n                            className=\"flex justify-between items-center p-1 bg-gray-50 rounded text-xs\"\n                          >\n                            <span>{payment.name}</span>\n                            <span className=\"font-semibold\">\n                              R$ {payment.amount.toFixed(2)}\n                            </span>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n\n                  <Separator />\n\n                  {/* A√ß√µes */}\n                  <div className=\"space-y-2\">\n                    <Button\n                      onClick={finalizeSale}\n                      disabled={\n                        cart.length === 0 ||\n                        total <= 0 ||\n                        (!paymentMethod && mixedPayments.length === 0) ||\n                        (paymentMethod === \"pix\" && !pixPaymentConfirmed)\n                      }\n                      className=\"w-full h-10\"\n                      title=\"F1\"\n                    >\n                      <Calculator className=\"w-4 h-4 mr-2\" />\n                      Finalizar Venda (F1)\n                    </Button>\n                    <Button\n                      onClick={clearCart}\n                      variant=\"outline\"\n                      className=\"w-full h-8 text-xs bg-transparent\"\n                      title=\"F2\"\n                    >\n                      <Shield className=\"w-3 h-3 mr-1\" />\n                      Limpar Carrinho (F2)\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Dialogs */}\n      <AuthorizationDialog\n        open={!!authorizationRequest}\n        onOpenChange={(open) => !open && setAuthorizationRequest(null)}\n        title={authorizationRequest?.title || \"\"}\n        description={authorizationRequest?.description || \"\"}\n        onAuthorize={handleAuthorization}\n      />\n\n      <CashPaymentDialog\n        open={showCashPayment}\n        onOpenChange={setShowCashPayment}\n        totalAmount={total}\n        onConfirm={(received, change) => completeSale(received, change)}\n      />\n\n      <PixPaymentDialog\n        open={showPixPayment}\n        onOpenChange={setShowPixPayment}\n        amount={total}\n        onPaymentConfirmed={() => setPixPaymentConfirmed(true)}\n      />\n\n      <CardPaymentDialog\n        open={showCardSelection}\n        onOpenChange={setShowCardSelection}\n        onSelectCardType={setSelectedCardType}\n      />\n\n      <MixedPaymentDialog\n        open={showMixedPayment}\n        onOpenChange={setShowMixedPayment}\n        totalAmount={total}\n        onConfirm={(payments) => {\n          setMixedPayments(payments);\n          setPaymentMethod(null);\n        }}\n        onRequestAuthorization={requestAuthorization}\n      />\n\n      <WeightInputDialog\n        open={showWeightDialog}\n        onOpenChange={setShowWeightDialog}\n        product={selectedProductForWeight}\n        onConfirm={handleWeightConfirm}\n      />\n\n      {/* Login Dialog */}\n      <LoginDialog\n        open={showLogin}\n        onLogin={(user) => {\n          setCurrentUser(user);\n          setShowLogin(false);\n        }}\n      />\n\n      {/* Label Config Dialog */}\n      <LabelConfigDialog\n        open={showLabelConfig}\n        onOpenChange={setShowLabelConfig}\n        currentTemplate={labelTemplate}\n        onSave={setLabelTemplate}\n      />\n\n      {/* Receipt Config Dialog */}\n      <ReceiptConfigDialog\n        open={showReceiptConfig}\n        onOpenChange={setShowReceiptConfig}\n        config={receiptConfig}\n        onSave={setReceiptConfig}\n      />\n\n      {/* Cash Management Dialog */}\n      <CashManagementDialog\n        open={showCashManagement}\n        onOpenChange={setShowCashManagement}\n        action={cashAction}\n        currentSession={cashSession}\n        onConfirm={(amount) => {\n          if (cashAction === \"open\") {\n            setCashSession({\n              id: Date.now().toString(),\n              openedBy: currentUser?.name || \"Usu√°rio\",\n              openedAt: new Date().toISOString(),\n              initialAmount: amount,\n              totalSales: 0,\n              totalTransactions: 0,\n              status: \"open\",\n            });\n          } else {\n            setCashSession(null);\n          }\n          setShowCashManagement(false);\n        }}\n        userName={currentUser?.name || \"Usu√°rio\"}\n      />\n\n      {/* Receipt Selection Dialog */}\n      <ReceiptSelectionDialog\n        open={showReceiptSelection}\n        onOpenChange={setShowReceiptSelection}\n        onSelect={(type) => completeSale(undefined, undefined, type)}\n        canChoose={\n          currentUser\n            ? receiptConfig.rolePermissions[currentUser.role]?.canChoose ||\n              false\n            : false\n        }\n        defaultType={\n          currentUser\n            ? receiptConfig.rolePermissions[currentUser.role]?.defaultType ||\n              \"receipt\"\n            : \"receipt\"\n        }\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}